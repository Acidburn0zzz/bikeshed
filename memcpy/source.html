<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 638477 &ndash; Strange sound on mp3 flash website</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">  
    <meta name="verify-v1" content="1hLjVPyIYh2cX7CL+s5A0k6pKt2FRq7/FSQ/cqGi9J8=">
    <meta name="y_key" content="1cdf458efae704ba">

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://bugzilla.redhat.com/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=638477&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=638477">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=638477">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=638477">



    
    
    <link href="skins/standard/global.css?1334925785"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1334045264" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1334045264" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1334925785" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1334045264" rel="stylesheet"
        type="text/css" ><link href="extensions/VCS/web/style.css?1334045264" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      



  <link href="skins/standard/IE-fixes.css?1334045264" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/RedHat/global.css?1337757805" rel="stylesheet"
        type="text/css" title="RedHat"><link href="skins/contrib/RedHat/show_bug.css?1334045264" rel="stylesheet"
        type="text/css" title="RedHat">
<link href="skins/contrib/Dusk/global.css?1334045264" rel="alternate stylesheet"
        type="text/css" title="Dusk">

    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1334045264"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1334045264"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1334045264"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1334045264"></script><script type="text/javascript" src="js/yui/json/json-min.js?1334045264"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1334045264"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1334045264"></script><script type="text/javascript" src="js/global.js?1334045264"></script>

    
    <script src="js/cookies.js" type="text/javascript" language="JavaScript"></script>
    

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1000
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if( !document.location.href.match(/show_bug\.cgi/) && history && history.replaceState ) {
      history.replaceState( null, 
                         "Bug 638477 – Strange sound on mp3 flash website",  
                         "show_bug.cgi?id=638477" );
      document.title = "Bug 638477 – Strange sound on mp3 flash website";
    }
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1334045264"></script><script type="text/javascript" src="js/field.js?1338446172"></script><script type="text/javascript" src="js/productform.js?1336993663"></script><script type="text/javascript" src="js/rpc-min.js?1334045264"></script><script type="text/javascript" src="js/show_bug.js?1336993663"></script>

    <script type="text/javascript">
      // REDHAT EXTENSION 441550
      // Set use_ajax for use in the js files
      var use_ajax = '1';
      // REDHAT EXTENSION 426374
      // Server URL is set here since we cannot access urlbase
      // in the js/ files.
      var server_url = 'https://bugzilla.redhat.com/xmlrpc.cgi';
    </script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Red Hat Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  
  <body onload="
                setcookie('Bugzilla_javascript',1,1,'/','bugzilla.redhat.com',0);"
        class="bugzilla-redhat-com bz_bug bz_status_CLOSED bz_product_Fedora bz_component_glibc bz_bug_638477 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Red Hat Bugzilla &ndash; Bug&nbsp;638477</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Strange sound on mp3 flash website</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2011-09-19 23:38:24 EDT</p>
    </td>
</tr>
</table>

<table id="lang_links_container" cellpadding="0" cellspacing="0"
       class="bz_default_hidden"><tr><td>
</td></tr></table>
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li><span class="separator"> | </span><a href="page.cgi?id=browse.html">Browse</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="/docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_top">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="https://bugzilla.redhat.com/show_bug.cgi?id=638477&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  
  <form action="https://bugzilla.redhat.com/show_bug.cgi?id=638477" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_top"
        onsubmit="return check_mini_login_fields( '_top' );"
  >
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_top')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_top')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_top">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_top');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_top');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="https://bugzilla.redhat.com/show_bug.cgi?id=638477&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_top')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_top"
        class="mini_forgot bz_default_hidden">
    <label for="login_top">Login:</label>
    <input type="text" name="loginname" size="20" id="login_top">
    <input id="forgot_button_top" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_top')">[x]</a>
  </form>
</li>
  
  
</ul>
</div> 

<div id="bugzilla-body">

<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=638477">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=638477">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=638477">Clone This Bug</a></li>
    <li>&nbsp;-&nbsp;<a href="#c292">Last Comment</a></li>        
    </ul>


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
  <!--
  
  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id, real_id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
        document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                       id + ',' + real_id + '); return false;">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id) {
      var prefix = "(In reply to comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  
  setcookie('Bugzilla_javascript',1,1,'/','bugzilla.redhat.com',0);

  /* Index all classifications so we can keep track of the classification
   * for the selected product, which could control field visibility.
   */
  var all_classifications = new Array(93);
      all_classifications['389'] = 'Community';
      all_classifications['Beaker'] = 'Community';
      all_classifications['Bugtool'] = 'Other';
      all_classifications['Bugzilla'] = 'Community';
      all_classifications['Candlepin'] = 'Community';
      all_classifications['CloudForms Cloud Engine'] = 'Red Hat';
      all_classifications['CloudForms Common'] = 'Red Hat';
      all_classifications['CloudForms System Engine'] = 'Red Hat';
      all_classifications['Corosync Cluster Engine'] = 'Community';
      all_classifications['Dogtag Certificate System'] = 'Community';
      all_classifications['eGroupware'] = 'Other';
      all_classifications['Entitlements'] = 'Red Hat';
      all_classifications['Fedora'] = 'Fedora';
      all_classifications['Fedora Documentation'] = 'Fedora';
      all_classifications['Fedora EPEL'] = 'Fedora';
      all_classifications['Fedora Localization'] = 'Fedora';
      all_classifications['Fedora Management Console'] = 'Fedora';
      all_classifications['freeIPA'] = 'Community';
      all_classifications['Gluster-AMI'] = 'Community';
      all_classifications['Gluster-Documentation'] = 'Community';
      all_classifications['Gluster-GMC (GUI)'] = 'Community';
      all_classifications['Gluster-GVA'] = 'Community';
      all_classifications['Gluster-SSA'] = 'Community';
      all_classifications['GlusterFS'] = 'Community';
      all_classifications['GlusterFS-Commercial'] = 'Community';
      all_classifications['GlusterSP'] = 'Community';
      all_classifications['Gofer'] = 'Community';
      all_classifications['Grinder'] = 'Other';
      all_classifications['JBoss Data Grid 5'] = 'JBoss';
      all_classifications['JBoss Data Grid 6'] = 'JBoss';
      all_classifications['JBoss Developer Studio 4'] = 'JBoss';
      all_classifications['JBoss Developer Studio 5'] = 'JBoss';
      all_classifications['JBoss Enterprise Application Platform 4'] = 'JBoss';
      all_classifications['JBoss Enterprise Application Platform 5'] = 'JBoss';
      all_classifications['JBoss Enterprise Application Platform 6'] = 'JBoss';
      all_classifications['JBoss Enterprise BRMS Platform 5'] = 'JBoss';
      all_classifications['JBoss Enterprise Portal Platform 4'] = 'JBoss';
      all_classifications['JBoss Enterprise Portal Platform 5'] = 'JBoss';
      all_classifications['JBoss Enterprise Portal Platform 6'] = 'JBoss';
      all_classifications['JBoss Enterprise SOA Platform 4'] = 'JBoss';
      all_classifications['JBoss Enterprise SOA Platform 5'] = 'JBoss';
      all_classifications['JBoss Enterprise SOA Platform 6'] = 'JBoss';
      all_classifications['JBoss Enterprise Web Server 1'] = 'JBoss';
      all_classifications['JBoss Enterprise Web Server 2'] = 'JBoss';
      all_classifications['JBoss Enterprise WFK Platform 1'] = 'JBoss';
      all_classifications['JBoss Enterprise WFK Platform 2'] = 'JBoss';
      all_classifications['JBoss Operations Network'] = 'JBoss';
      all_classifications['Katello'] = 'Community';
      all_classifications['Matahari'] = 'Community';
      all_classifications['OpenShift'] = 'Red Hat';
      all_classifications['oVirt'] = 'Community';
      all_classifications['penrose'] = 'Community';
      all_classifications['Publican'] = 'Other';
      all_classifications['Pulp'] = 'Community';
      all_classifications['PulpDist'] = 'Community';
      all_classifications['Red Hat Academy'] = 'Red Hat';
      all_classifications['Red Hat Advanced Server Developer Edition'] = 'Red Hat';
      all_classifications['Red Hat Application Server'] = 'Red Hat';
      all_classifications['Red Hat Application Server Public Beta'] = 'Red Hat';
      all_classifications['Red Hat Cluster Suite'] = 'Red Hat';
      all_classifications['Red Hat Customer Portal'] = 'Red Hat';
      all_classifications['Red Hat Database'] = 'Red Hat';
      all_classifications['Red Hat Developer Program'] = 'Red Hat';
      all_classifications['Red Hat Developer Suite'] = 'Red Hat';
      all_classifications['Red Hat Developer Toolset'] = 'Red Hat';
      all_classifications['Red Hat Enterprise CMS'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Linux 2.1'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Linux 3'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Linux 4'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Linux 5'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Linux 6'] = 'Red Hat';
      all_classifications['Red Hat Enterprise MRG'] = 'Red Hat';
      all_classifications['Red Hat Enterprise Portal Server'] = 'Red Hat';
      all_classifications['Red Hat Hardware Certification Program'] = 'Red Hat';
      all_classifications['Red Hat HPC Solution'] = 'Red Hat';
      all_classifications['Red Hat Network'] = 'Red Hat';
      all_classifications['Red Hat Network Proxy'] = 'Red Hat';
      all_classifications['Red Hat Network Satellite'] = 'Red Hat';
      all_classifications['Red Hat Secure Web Server'] = 'Red Hat';
      all_classifications['Red Hat Storage'] = 'Red Hat';
      all_classifications['Red Hat Update Infrastructure for Cloud Providers'] = 'Red Hat';
      all_classifications['Red Hat Web Application Framework'] = 'Red Hat';
      all_classifications['Red Hat Web Site'] = 'Red Hat';
      all_classifications['RHQ Project'] = 'Other';
      all_classifications['Security Response'] = 'Other';
      all_classifications['Source-Navigator'] = 'Other';
      all_classifications['Spacewalk'] = 'Community';
      all_classifications['SSI'] = 'Internal';
      all_classifications['Subscription Asset Manager'] = 'Red Hat';
      all_classifications['TCMS'] = 'Other';
      all_classifications['Topic Tool'] = 'Other';
      all_classifications['Virtualization Tools'] = 'Community';
      all_classifications['Zanata'] = 'Community';

  
  var product_selected = 'Fedora';

  //-->
  </script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">





  <input type="hidden" name="delta_ts" value="2011-09-19 23:38:24">
  <input type="hidden" name="longdesclength" value="293">
  <input type="hidden" name="id" value="638477">
  <input type="hidden" name="token" value="1340157014-a7d3763abe233c330ef9992c8716b22f">
<div class="bz_alias_short_desc_container edit_form">

    
    

    <a href="show_bug.cgi?id=638477"><b>Bug&nbsp;638477</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
    <span id="short_desc_nonedit_display">Strange sound on mp3 flash website</span>
    </span>

    
    

    
    

     </span>
       
    <div id="summary_alias_input">
      <table id="summary"> 
          <tr>
            <td>
              <label 
                for="alias" 
                title="a name for the bug that can be used in place of its ID number,  e.g. when adding it to a list of dependencies"
                >Aliases</label>:</td>
            <td>
            </td>
          </tr>
        
        <tr>
          <td>
            <label accesskey="s" for="short_desc"><u>S</u>ummary</label>:
          </td>
          <td>Strange sound on mp3 flash website
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Strange sound on mp3 flash website', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <td class="field_label">
      <b><a href="page.cgi?id=fields.html#status">Status</a></b>:
    </td>
    <td id="bz_field_status">
      <span id="static_bug_status">CLOSED
          ERRATA
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr>
        <td class="field_label">
          <label for="newalias" accesskey="l"><b>Aliases</b>:</label>
        </td>
        <td>
          <label for="bugaliaslist">
              None
          </label>
          <span id="alias_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="alias_edit_area_showhide">edit</a>)
          </span>
          <br>
          <div id="alias_edit_area">
            <div>
            </div>
          </div>
          <script type="text/javascript">
            hideEditableField( 'alias_edit_area_showhide_container', 
                               'alias_edit_area', 
                               'alias_edit_area_showhide', 
                               '', 
                               '');  
          </script>
        </td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fedora</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Fedora</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Fedora"
  >Component:</a>

</th>
      <td>
        

            <input type="hidden" id="component" name="component" value="glibc">glibc
        
        
        (<a href="buglist.cgi?component=glibc&product=Fedora" 
            target="new_window">Show other bugs</a>)
        
      </td>
    </tr>
    <tr>
      <td class="field_label">
        <label for="version"><b>Version(s)</b></label>:
      </td>
<td>14</td>
    </tr>
        
    
        
    <tr>
      <td class="field_label">
        <label for="rep_platform" accesskey="h"><b>Platform</b></label>:
      </td>
      <td class="field_value">x86_64
       Linux
       <script type="text/javascript">
         assignToDefaultOnChange(['product', 'component']);
       </script>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <td class="field_label">
        <label for="priority" accesskey="i">
          <b><a href="page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td>
      <td>low
          <span class="field_label"><b><a href="page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:</span>
       medium
      </td>
    </tr>

      <tr>
        <td class="field_label">
          <label for="target_milestone">
              <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </td><td>---</td>
      </tr>
  
      <tr>
        <td class="field_label">
          <label for="target_release">
              <a href="page.cgi?id=fields.html#target_release">
            Target&nbsp;Release</a></label>:
        </td><td>---</td>
      </tr>            
          
          <tr>
      <td class="field_label">
        <b><a href="page.cgi?id=fields.html#assigned_to">Assigned To</a></b>:
      </td>
      <td><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
      </td>
    </tr>

    <tr>
      <td class="field_label">
        <label for="qa_contact" accesskey="q"><b><u>Q</u>A Contact</b></label>:
      </td>
      <td><span class="vcard "><span class="fn">Fedora Extras Quality Assurance</span>
</span>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr>
      <td class="field_label">
        <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
      </td><td colspan="2">
        <span title="https://fedoraproject.org/wiki/Common_F14_bugs#flash-64-sound">https://fedoraproject.org/wiki/Common...
        </span>  
  </td>
    </tr>
  
    <tr>
      <td class="field_label">
        <label for="keywords" accesskey="k">
          <b><a href="describekeywords.cgi"><u>K</u>eywords</a></b></label>:
      </td>
      <td class="field_value" colspan="2">CommonBugs, Patch, Reopened, Triaged
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends On:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=638477&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=638477">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <td class="field_label">
      <b>Reported</b>:
    </td>
    <td>2010-09-29 02:35 EDT by <span class="vcard "><span class="fn">JCHuynh</span>
</span>
    </td>
  </tr>
  
  <tr>
    <td class="field_label">
      <b> Modified</b>:
    </td>
    <td>2011-09-19 23:38 EDT 
      (<a href="show_activity.cgi?id=638477">History</a>)
    </td>
  
  </tr>
         <tr>
      <td class="field_label">
        <label for="newcc" accesskey="a"><b>CC List</b>:</label>
      </td>
      <td>152 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="777tahder">777tahder</option>
                <option value="a9016009">a9016009</option>
                <option value="aaron">aaron</option>
                <option value="alehman">alehman</option>
                <option value="alexander.hunt2005">alexander.hunt2005</option>
                <option value="alkana54">alkana54</option>
                <option value="andrei.ilie">andrei.ilie</option>
                <option value="aquini">aquini</option>
                <option value="awilliam">awilliam</option>
                <option value="azelinka">azelinka</option>
                <option value="bill-bugzilla.redhat.com">bill-bugzilla.redhat.com</option>
                <option value="bloch">bloch</option>
                <option value="bobg+redhat">bobg+redhat</option>
                <option value="brentrbrian">brentrbrian</option>
                <option value="cfergeau">cfergeau</option>
                <option value="charlieb-fedora-bugzilla">charlieb-fedora-bugzilla</option>
                <option value="chris.stone">chris.stone</option>
                <option value="christopher.fabritius">christopher.fabritius</option>
                <option value="collura">collura</option>
                <option value="cra">cra</option>
                <option value="davidsen">davidsen</option>
                <option value="debaditya">debaditya</option>
                <option value="dirleyrls">dirleyrls</option>
                <option value="djuran">djuran</option>
                <option value="dougsland">dougsland</option>
                <option value="dr.diesel">dr.diesel</option>
                <option value="drewskiwooskie">drewskiwooskie</option>
                <option value="eparis">eparis</option>
                <option value="extras-orphan">extras-orphan</option>
                <option value="e_redhat">e_redhat</option>
                <option value="fanisatt">fanisatt</option>
                <option value="fedora">fedora</option>
                <option value="fedoraproject">fedoraproject</option>
                <option value="felipe.contreras">felipe.contreras</option>
                <option value="freetgm">freetgm</option>
                <option value="fumiyas">fumiyas</option>
                <option value="gansalmon">gansalmon</option>
                <option value="gawain.lynch">gawain.lynch</option>
                <option value="gbanchelli">gbanchelli</option>
                <option value="gsking1">gsking1</option>
                <option value="harrison.ian">harrison.ian</option>
                <option value="harsh1492">harsh1492</option>
                <option value="hdfssk">hdfssk</option>
                <option value="itamar">itamar</option>
                <option value="jaceks">jaceks</option>
                <option value="jakub">jakub</option>
                <option value="jan.public">jan.public</option>
                <option value="jcm">jcm</option>
                <option value="jgetsoian">jgetsoian</option>
                <option value="jh.redhat">jh.redhat</option>
                <option value="jheiv">jheiv</option>
                <option value="john.robinson">john.robinson</option>
                <option value="johnparmitage">johnparmitage</option>
                <option value="jonathan">jonathan</option>
                <option value="joolli">joolli</option>
                <option value="jstodola">jstodola</option>
                <option value="jvillalo">jvillalo</option>
                <option value="keijser">keijser</option>
                <option value="kenyon">kenyon</option>
                <option value="kevin">kevin</option>
                <option value="kir">kir</option>
                <option value="knutjbj">knutjbj</option>
                <option value="kparal">kparal</option>
                <option value="kszysiu">kszysiu</option>
                <option value="kuznetsovvv">kuznetsovvv</option>
                <option value="laurent.rineau__fedora">laurent.rineau__fedora</option>
                <option value="ling.ma">ling.ma</option>
                <option value="linuxover">linuxover</option>
                <option value="lkundrak">lkundrak</option>
                <option value="ll_vectra">ll_vectra</option>
                <option value="lmacken">lmacken</option>
                <option value="lsatenstein">lsatenstein</option>
                <option value="luhe">luhe</option>
                <option value="m.a.young">m.a.young</option>
                <option value="m.heiming">m.heiming</option>
                <option value="madhu.chinakonda">madhu.chinakonda</option>
                <option value="mail2benny">mail2benny</option>
                <option value="mail">mail</option>
                <option value="marcus">marcus</option>
                <option value="martin">martin</option>
                <option value="mathieu-acct">mathieu-acct</option>
                <option value="mdavis">mdavis</option>
                <option value="mglantz">mglantz</option>
                <option value="mhasko">mhasko</option>
                <option value="mhlavink">mhlavink</option>
                <option value="milan.kerslager">milan.kerslager</option>
                <option value="mishu">mishu</option>
                <option value="mjg">mjg</option>
                <option value="mkranz">mkranz</option>
                <option value="ml-bz-dale">ml-bz-dale</option>
                <option value="mmello">mmello</option>
                <option value="neumann">neumann</option>
                <option value="notting">notting</option>
                <option value="ole">ole</option>
                <option value="o_ojo">o_ojo</option>
                <option value="panormitis">panormitis</option>
                <option value="patrys">patrys</option>
                <option value="pierre-bugzilla">pierre-bugzilla</option>
                <option value="pinto.elia">pinto.elia</option>
                <option value="pma_id">pma_id</option>
                <option value="pmontepagano">pmontepagano</option>
                <option value="portis24">portis24</option>
                <option value="promac">promac</option>
                <option value="rhbugs">rhbugs</option>
                <option value="rian">rian</option>
                <option value="rich">rich</option>
                <option value="richmattes">richmattes</option>
                <option value="rmj">rmj</option>
                <option value="rob.d.wills">rob.d.wills</option>
                <option value="robatino">robatino</option>
                <option value="robin-redhat">robin-redhat</option>
                <option value="robin">robin</option>
                <option value="rod">rod</option>
                <option value="roth">roth</option>
                <option value="samuel-rhbugs">samuel-rhbugs</option>
                <option value="savelov">savelov</option>
                <option value="schlaffi">schlaffi</option>
                <option value="schwab">schwab</option>
                <option value="sebastien.major">sebastien.major</option>
                <option value="seg">seg</option>
                <option value="shigorin">shigorin</option>
                <option value="shur">shur</option>
                <option value="siarhei.siamashka">siarhei.siamashka</option>
                <option value="simon.lewis">simon.lewis</option>
                <option value="sitsofe">sitsofe</option>
                <option value="smconvey">smconvey</option>
                <option value="sverrel">sverrel</option>
                <option value="swantz051">swantz051</option>
                <option value="teva.riou">teva.riou</option>
                <option value="thierry.vignaud">thierry.vignaud</option>
                <option value="thomas.gasser">thomas.gasser</option>
                <option value="thomas">thomas</option>
                <option value="tmoody">tmoody</option>
                <option value="tmraz">tmraz</option>
                <option value="tom">tom</option>
                <option value="torvalds">torvalds</option>
                <option value="tru">tru</option>
                <option value="tuju">tuju</option>
                <option value="ugis.fedora">ugis.fedora</option>
                <option value="vchelban">vchelban</option>
                <option value="vik">vik</option>
                <option value="vlado_potisk">vlado_potisk</option>
                <option value="vonbrand">vonbrand</option>
                <option value="vvaldez">vvaldez</option>
                <option value="whizzman">whizzman</option>
                <option value="wilo108">wilo108</option>
                <option value="yann">yann</option>
                <option value="yaroslav.sapozhnik">yaroslav.sapozhnik</option>
                <option value="ykopkova">ykopkova</option>
                <option value="yoho_ahoy">yoho_ahoy</option>
                <option value="zenczykowski">zenczykowski</option>
                <option value="zero456">zero456</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_fixed_in">


  <a 
      title="The full package version. PGM uses to check if brew build is in errata tool."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_fixed_in"
  >Fixed In Version:</a>

</th>
  <td class="field_value "
      id="field_container_cf_fixed_in"  colspan="2">2.13.90-9</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_release_notes">


  <a 
      title="A custom Large Text Box field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_release_notes"
  >Technical Notes:</a>

</th>
  <td class="field_value "
      id="field_container_cf_release_notes"  colspan="2">
      <div class="uneditable_textarea"></div></td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_story_points">


  <a 
      title="A custom Drop Down field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_story_points"
  >Story Points:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_story_points"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_clone_of">


  <a 
      title="The bug listed here was the bug cloned to create this bug"
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_clone_of"
  >Clone Of:</a>

</th>
  <td class="field_value "
      id="field_container_cf_clone_of"  colspan="2"></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_environment">


  <a 
      title="A custom Large Text Box field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_environment"
  >Environment:</a>

</th>
  <td class="field_value "
      id="field_container_cf_environment"  colspan="2">
      <div class="uneditable_textarea"></div></td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_last_closed">


  <a 
      title="When this bug was last marked as closed. Used for statistical purposes."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_last_closed"
  >Last Closed:</a>

</th>
  <td class="field_value "
      id="field_container_cf_last_closed"  colspan="2">2011-07-12 04:00:39</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_type">


  <a 
      title="A custom Drop Down field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_type"
  >Type:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_type"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_regression_status">


  <a 
      title="A custom Drop Down field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_regression_status"
  >Regression:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_regression_status"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_mount_type">


  <a 
      title="A custom Drop Down field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_mount_type"
  >Mount Type:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_mount_type"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_documentation_action">


  <a 
      title="A custom Drop Down field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_documentation_action"
  >Documentation:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_documentation_action"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_crm">


  <a 
      title="A custom Free Text field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_crm"
  >CRM:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_crm"  colspan="2"></td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_verified_branch">


  <a 
      title="A custom Free Text field in this installation of Red Hat Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_verified_branch"
  >Verified Versions:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_verified_branch"  colspan="2"></td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
    

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    
    <th align="left">
      Attachments
    </th>
    <th colspan="2" align="right">
      <a href="page.cgi?id=terms-conditions.html">(Terms of Use)</a>
    </th>
    
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=457145"
               title="View the content of the attachment">
          <b>Valgrind output</b></a>

          <span class="bz_attach_extra_info">
              (22.96 KB,
                text/plain)

            <br>
            <a href="#attach_457145"
               title="Go to the comment associated with the attachment">2010-11-02 06:32 EDT</a>,
<span class="vcard "><span class="fn">Michael Young</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=457145&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=457151"
               title="View the content of the attachment">
          <b>Valgrind output</b></a>

          <span class="bz_attach_extra_info">
              (22.96 KB,
                text/plain)

            <br>
            <a href="#attach_457151"
               title="Go to the comment associated with the attachment">2010-11-02 07:09 EDT</a>,
<span class="vcard "><span class="fn">Michael Young</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=457151&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=460254"
               title="View the content of the attachment">
          <b>replace all memcpy calls with memmove calls in libflashplayer.so</b></a>

          <span class="bz_attach_extra_info">
              (1.38 KB,
                text/plain)

            <br>
            <a href="#attach_460254"
               title="Go to the comment associated with the attachment">2010-11-13 12:02 EST</a>,
<span class="vcard redhat_user"><span class="fn">Ray Strode [halfline]</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=460254&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=461740"
               title="View the content of the attachment">
          <b>binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;</b></a>

          <span class="bz_attach_extra_info">
              (165 bytes,
                text/plain)

            <br>
            <a href="#attach_461740"
               title="Go to the comment associated with the attachment">2010-11-20 11:33 EST</a>,
<span class="vcard "><span class="fn">Paulius Zaleckas</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=461740&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=480017"
               title="View the content of the attachment">
          <b>Linus' workaround</b></a>

          <span class="bz_attach_extra_info">
              (316 bytes,
                text/plain)

            <br>
            <a href="#attach_480017"
               title="Go to the comment associated with the attachment">2011-02-21 17:59 EST</a>,
<span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=480017&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=480018"
               title="View the content of the attachment">
          <b>example launcher script</b></a>

          <span class="bz_attach_extra_info">
              (77 bytes,
                text/plain)

            <br>
            <a href="#attach_480018"
               title="Go to the comment associated with the attachment">2011-02-21 18:02 EST</a>,
<span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=480018&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain">
        <td valign="top">
            <a href="attachment.cgi?id=487982"
               title="View the content of the attachment">
          <b>Program to fix relocation entries in libflashplayer.so</b></a>

          <span class="bz_attach_extra_info">
              (8.32 KB,
                text/plain)

            <br>
            <a href="#attach_487982"
               title="Go to the comment associated with the attachment">2011-03-26 23:20 EDT</a>,
<span class="vcard "><span class="fn">Tom Horsley</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=487982&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=491126"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">x86_64: workaround for new memcpy behavior</span></b></a>

          <span class="bz_attach_extra_info">
              (4.65 KB,
                patch)

            <br>
            <a href="#attach_491126"
               title="Go to the comment associated with the attachment">2011-04-10 21:32 EDT</a>,
<span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=491126&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=491126&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=491127"
               title="View the content of the attachment">
          <b>memcpy-ssse3: add overlap checks</b></a>

          <span class="bz_attach_extra_info">
              (1.91 KB,
                patch)

            <br>
            <a href="#attach_491127"
               title="Go to the comment associated with the attachment">2011-04-10 21:36 EDT</a>,
<span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=491127&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=491127&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=491198"
               title="View the content of the attachment">
          <b>x86_64: fix for new memcpy behavior (try 2)</b></a>

          <span class="bz_attach_extra_info">
              (1.36 KB,
                patch)

            <br>
            <a href="#attach_491198"
               title="Go to the comment associated with the attachment">2011-04-11 06:45 EDT</a>,
<span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="attachment.cgi?id=491198&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=491198&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (1)
        </span>
        <a href="attachment.cgi?bugid=638477&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

    

    <link href="extensions/ExternalBugs/web/css/global.css" rel="stylesheet" type="text/css">
<script src="js/yui/connection/connection-min.js" type="text/javascript"></script>
<script src="js/yui/json/json-min.js" type="text/javascript"></script>
<script src="extensions/ExternalBugs/web/js/external_bugs.js" type="text/javascript"></script>

<script>
  YAHOO.ExternalBugs.sUrlYUI = 'https://bugzilla.redhat.com/jsonrpc.cgi';
  YAHOO.ExternalBugs.sUrlRPC = 'https://bugzilla.redhat.com/xmlrpc.cgi';
  YAHOO.ExternalBugs.extRefreshList = [];
  YAHOO.ExternalBugs.extRefreshList.push('37857');
</script>


<br>
<table id="external_bugs_table" cellspacing="0" cellpadding="4">
  <tr>
    <th align="left" colspan="6">
    <a name="et0" id="et0">External Trackers</a></th>
  </tr>
    <tr>
      <th>Tracker</th>
      <th>ID</th>
      <th>Priority</th>
      <th>Status</th>
      <th>Summary</th>
      <th>Last Updated</th>
    </tr>

    <tr>
      <td>Sourceware
      </td>
      <td>
        <a href="http://sourceware.org/bugzilla/show_bug.cgi?id=12518">12518</a>
      </td>
      <td>
        <span id="ext_priority_37857">None
        </span>
      </td>
      <td>
        <span id="ext_status_37857">None
        </span>
      </td>
      <td>
        <span id="ext_description_37857"
              title="None">None...
        </span>
      </td>
      <td>
        <span id="ext_last_updated_37857">Never
        </span>
        <img id="ext_waiting_37857" style="visibility:hidden;"
             src="extensions/ExternalBugs/web/images/wait20trans.gif">
      </td>
    </tr>

</table>
<br>
    


  </td>
  <td><div class="bz_group_visibility_section">



          <div id="bz_restrict_group_visibility_help">
            <b>Only users in any 
              of the selected groups can view this bug:</b>
             <p class="instructions">
               Unchecking all boxes makes this a more public bug.
             </p>
          </div>


      <input type="checkbox" value="private"
             name="groups" id="group_218">
      <label for="group_218">Private Group (Bug is not viewable by public)</label>
      <br>




      <input type="checkbox" value="security"
             name="groups" id="group_71">
      <label for="group_71">Security Sensitive Bug (Check if this is a security related issue and should not be public)</label>
      <br>

        <p class="instructions">Only members of a group can change the 
          visibility of a bug for that group.</p>

  </div>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1334925785" type="text/javascript">
</script>







<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c0">Description</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 02:35:31 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Description of problem:
Strange sound when playing mp3 on website using flash (using Shockwave Flash 10.2 d161). 
Tested and work fine on Youtube ( no strange sound )

[JC1DA&#64;jc1da-laptop ~]$ dmesg | grep realtek
ALSA sound/pci/hda/patch_realtek.c:1358: realtek: No valid SSID, checking pincfg 0x411111f0 for NID 0x1d
ALSA sound/pci/hda/patch_realtek.c:1441: realtek: Enable default setup for auto mode as fallback

Version-Release number of selected component (if applicable):

How reproducible:
terrible sound on this site
<a href="http://mp3.zing.vn/mp3/nghe-bai-hat/Tennessee-Line-Daughtry.IW6WUFWE.html">http://mp3.zing.vn/mp3/nghe-bai-hat/Tennessee-Line-Daughtry.IW6WUFWE.html</a>

Steps to Reproduce:
1.
2.
3.
  
Actual results:
terrible sound

Expected results:
good as on Fedora 13

Additional info:</pre>
    </div>
  <div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Hans Ulrich Niedermann</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 08:55:20 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Try as I might, I cannot see how this report is related to the soundtracker package. Could you elaborate on that?</pre>
    </div>
  <div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 12:07:06 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >sorry wrong Component</pre>
    </div>
  <div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 12:49:53 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Strange sound on mp3 flash website"
   href="show_bug.cgi?id=638678">Bug 638678</a> has been marked as a duplicate of this bug. ***</pre>
    </div>
  <div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 12:50:19 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Have you confirmed that F13 works the same *with the same version of flash*?</pre>
    </div>
  <div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 13:21:23 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >No, F13 works fine with Shockwave Flash 10.2 d161</pre>
    </div>
  <div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-29 13:35:11 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >One more things, I used RhythmBox to play mp3, flac files, it works fine ... no strange sound like on some flash websites(exclude youtube)</pre>
    </div>
  <div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-03 17:27:26 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I am hearing similar symptoms with a different sound card (64-bit flash preview gives jumpy sound for some sites in F14, but the same flash works in F13).
lspci -vs 00:1b.0 gives
00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family) HD Audio Controller (rev 02)
	Subsystem: Dell Device 022f
	Flags: bus master, fast devsel, latency 0, IRQ 47
	Memory at fe9fc000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: [50] Power Management version 2
	Capabilities: [60] MSI: Enable+ Count=1/1 Maskable- 64bit+
	Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00
	Capabilities: [100] Virtual Channel
	Capabilities: [130] Root Complex Link
	Kernel driver in use: HDA Intel
	Kernel modules: snd-hda-intel</pre>
    </div>
  <div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-11 12:09:30 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I see this as well. Sounds like clipping or some really bad sample rate frequency conversion. I also use the preview 64-bit adobe flash, and it doesn't happen for everything (not local mp3 players, for example).

It doesn't seem to happen with most (all?) youtube videos, but happens commonly with other sources. The example given in <a href="show_bug.cgi?id=638477#c1">comment #1</a> is a good example, and breaks for me too. If I had to guess, I'd think some flash audio is using a different sample rate (or bits per sample), and the conversion is buggered.

F13 worked with the same flash binary.

And yes, I'm using Intel HDA too.  Probably not related, though.

00:1b.0 Audio device: Intel Corporation 5 Series/3400 Series Chipset High Definition Audio (rev 06)</pre>
    </div>
  <div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Michal Haško</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-27 04:46:58 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Happens to me as well
Also in youtube 240p quality, not in higher, so I think might be the &quot;bad sample rate frequency conversion&quot; as in <a href="show_bug.cgi?id=638477#c8">comment #8</a>.

Flash 64bit version 10.2 d161

$ lspci -vs 1b
00:1b.0 Audio device: Intel Corporation 82801I (ICH9 Family) HD Audio Controller (rev 03)
	Subsystem: Lenovo Device 20f2
	Flags: bus master, fast devsel, latency 0, IRQ 50
	Memory at fc020000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: &lt;access denied&gt;
	Kernel driver in use: HDA Intel
	Kernel modules: snd-hda-intel</pre>
    </div>
  <div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-28 20:36:16 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Turning off power_save in snd-hda-intel seems to fix this in a quick test for me. Not sure what's causing it to be an issue in this combination.</pre>
    </div>
  <div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-28 20:48:17 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >... perhaps not. It fixed it until the next stream opened.</pre>
    </div>
  <div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-28 21:29:46 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >That being said, if I remove pulseaudio, where flash accesses the sound device directly, the audio still stutters. Assigning to the kernel for the driver.</pre>
    </div>
  <div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-29 19:31:04 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >There is a problem with the kernel driver theory. If I boot an F14 install with an F12 based kernel then I still get the broken sound.</pre>
    </div>
  <div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-29 19:47:11 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c13">comment #13</a>)
<span class="quote">&gt; There is a problem with the kernel driver theory. If I boot an F14 install with
&gt; an F12 based kernel then I still get the broken sound.</span >

Also, I did a &quot;yum upgrade&quot; from F13 to F14, and since I (obviously) always compile my own kernels, I can say that both the kernel and the libfrashplayer.so binary stayed constant over the upgrade - yet the problem did not exist in F13.

So while it may be somehow tied to the kernel or to libflashplayer, it is definitely something in Fedora-14 that triggers the problem. 

On a suggestion from Takashi Iwai I tried to &quot;downgrade&quot; alsa-lib to the F13 version (I say &quot;downgrade&quot;, because the version number seems to be the same in F13 and F14), and that didn't make any difference.

So it isn't the kernel, it's not libflashplayer.so, and it doesn't seem to be alsa-lib.  If it's not pulseaudio, then what else is involved in sound generation?</pre>
    </div>
  <div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-30 09:08:53 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The trigger of the problem is the glibc version. If I start with F13 (sounds works) and then upgrade to the F14 glibc and nscd packages the sound starts breaking up. If I downgrade to F13 glibc again the sound works again. However it isn't obvious to me why that should make a difference.</pre>
    </div>
  <div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-10-30 10:29:02 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The reverse is also true. The sound is good with F13 glibc (2.12.1-4) on F14. I have been hunting through glibc versions. The sound was good with glibc-2.12.90-3 but first started sounding corrupted with glibc-2.12.90-4.</pre>
    </div>
  <div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 05:10:16 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >valgrind?</pre>
    </div>
  <div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 06:32:02 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=457145" name="attach_457145" title="Valgrind output">attachment 457145</a> <a href="attachment.cgi?id=457145&amp;action=edit" title="Valgrind output">[details]</a></span>
Valgrind output

This is with seamonkey running the 64-bit flash plugin preview.</pre>
    </div>
  <div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 06:38:40 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I see no valgrind of flash player.</pre>
    </div>
  <div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 06:49:33 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >What options would you suggest to capture it? I was running valgrind --trace-children=yes --leak-check=full -v seamonkey</pre>
    </div>
  <div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 06:55:15 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Please trace the process that creates the sound.</pre>
    </div>
  <div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 07:09:29 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=457151" name="attach_457151" title="Valgrind output">attachment 457151</a> <a href="attachment.cgi?id=457151&amp;action=edit" title="Valgrind output">[details]</a></span>
Valgrind output

seamonkey is the process that produces the sound, via the flash plugin. I am attaching a second valgrind trace, removing nspluginwrapper from the process in case that improves the trace.

Actually the sound is better when seamonkey is run under valgrind, so it is possible that the hooks valgrind puts in to do its monitoring is bypassing the problem.</pre>
    </div>
  <div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 10:43:50 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Please check that there are no calls to memcpy with overlapping regions.</pre>
    </div>
  <div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 10:49:42 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >How can I do that?</pre>
    </div>
  <div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">drewskiwooskie
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-02 11:37:30 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I am also getting the issue, but only with the 64bit version of flash (either the square release or latest stable). If I use the 32bit and wrap it as per <a href="http://fedoraproject.org/wiki/Flash">http://fedoraproject.org/wiki/Flash</a> , either version of square or release works perfectly. Seems it happens just with the 64bit flash plugin.

I am also on hda-intel but not sure if that matters at all.
lspci -vs 1b
00:1b.0 Audio device: Intel Corporation 82801I (ICH9 Family) HD Audio Controller (rev 03)
	Subsystem: Dell Device 0233
	Flags: bus master, fast devsel, latency 0, IRQ 49
	Memory at f6adc000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: &lt;access denied&gt;
	Kernel driver in use: HDA Intel
	Kernel modules: snd-hda-intel</pre>
    </div>
  <div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">rubberglove
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-03 08:16:28 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I can also confirm (as in <a href="show_bug.cgi?id=638477#c25">comment 25</a>) that I only get this issue with the 64-bit version of the plugin, but using the 32-bit wrapped plugin works fine.

I also (like everyone?) have an intel card:

lspci -vs 1b
00:1b.0 Audio device: Intel Corporation 82801JI (ICH10 Family) HD Audio Controller
	Subsystem: ASUSTeK Computer Inc. Device 82fe
	Flags: bus master, fast devsel, latency 0, IRQ 45
	Memory at fe3f4000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: &lt;access denied&gt;
	Kernel driver in use: HDA Intel
	Kernel modules: snd-hda-intel</pre>
    </div>
  <div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-03 10:58:07 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I confirm that it works fine with the 64 bit version of flash ... 32 bit wrapped plugins just fine ...</pre>
    </div>
  <div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Wyatt Allyn</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-05 02:09:22 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I can confirm as well. Using a Creative card.

lspci -vs 03.0
04:03.0 Multimedia audio controller: Creative Labs CA0106 Soundblaster
	Subsystem: Creative Labs SB0570 [SB Audigy SE]
	Flags: bus master, medium devsel, latency 64, IRQ 19
	I/O ports at cca0 [size=32]
	Capabilities: &lt;access denied&gt;
	Kernel driver in use: CA0106
	Kernel modules: snd-ca0106</pre>
    </div>
  <div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-06 12:35:00 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Just adding another me too (on Fedora 14). Temporarily turning off selinux and doing

LD_PRELOAD=&quot;/dev/shm/glibc-2.12.1-4/lib64/libc.so.6 /dev/shm/glibc-2.12.1-4/lib64/libpthread.so.0&quot; chromium-browser --app=<a href="http://news.bbc.co.uk/1/hi/entertainment/8266142.stm">http://news.bbc.co.uk/1/hi/entertainment/8266142.stm</a>

didn't produce the distorted sound (I used chromium so that the LD_PRELOAD environment variable would actually be passed to the flash plugin). Looking at the changelog for glibc-2.12.90-4 shows:

* Fri Jul 02 2010 Andreas Schwab &lt;<a href="mailto:schwab&#64;redhat.com">schwab&#64;redhat.com</a>&gt; - 2.12.90-4
- Update from master
  - Work around kernel rejecting valid absolute timestamps
  - Improve 64bit memcpy/memmove for Atom, Core 2 and Core i7
  - Fix error handling in Linux getlogin*
- Workaround assembler bug sneaking in nopl (#579838)
- Fix scope handling during dl_close
- Fix setxid race handling exiting threads

It would be interesting to know if this is happening on AMD 64 bit machine. It is interesting that previous comments suggest the 32 bit flash does not seem to be demonstrating this problem.

I used chromium to run valgrind on the flash plugin ( chromium-browser --plugin-launcher=&quot;valgrind&quot; --app=<a href="http://news.bbc.co.uk/1/hi/entertainment/8266142.stm">http://news.bbc.co.uk/1/hi/entertainment/8266142.stm</a> --no-sandbox ). Large amounts of
&quot;Conditional jump or move depends on uninitialised value(s)&quot;
went past but just before it started outputting sound the following came up:

==2100== Conditional jump or move depends on uninitialised value(s)
==2100==    at 0x1B2E9361: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF89F92: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF8A784: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF8F8CA: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF916E0: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF5FF4A: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF61ABD: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF61AD2: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF18AC7: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF18BE4: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF80D43: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AE7126A: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==
==2100== Thread 9:
==2100== Source and destination overlap in memcpy(0x256d7170, 0x256d7570, 1280)
==2100==    at 0x4A06A3A: memcpy (mc_replace_strmem.c:497)
==2100==    by 0x1B122B87: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1B1230DF: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1B1232C5: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF491F0: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1AF4AFDA: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1B06DA69: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1B06EA23: ??? (in /usr/lib64/mozilla/plugins/libflashplayer.so)
==2100==    by 0x1EF26D88: write_data (flashsupport.c:872)
==2100==    by 0x1F14F505: ??? (in /usr/lib64/libpulse.so.0.12.2)
==2100==    by 0x1F390C02: ??? (in /usr/lib64/libpulsecommon-0.9.21.so)
==2100==    by 0x1F391358: pa_pdispatch_run (in /usr/lib64/libpulsecommon-0.9.21.so)
==2100==

While running under valgrind the distortion issue did not seem to occur (but sound was played back with big pauses every few seconds).

On a related note, is there a glibc environment flag that can be set to force a generic memcpy routine to run?</pre>
    </div>
  <div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-06 12:37:53 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(I forgot to say, the machine I'm using is an Intel Core 2 laptop with an Intel Corporation N10/ICH 7 Family High Definition Audio Controller (rev 02))</pre>
    </div>
  <div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-06 12:50:36 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c29">comment #29</a>)
<span class="quote">&gt; Looking at the changelog for glibc-2.12.90-4 shows:
&gt; 
&gt; * Fri Jul 02 2010 Andreas Schwab &lt;<a href="mailto:schwab&#64;redhat.com">schwab&#64;redhat.com</a>&gt; - 2.12.90-4
&gt; [...]
&gt;   - Improve 64bit memcpy/memmove for Atom, Core 2 and Core i7
&gt; [...]
&gt; I used chromium to run valgrind on the flash plugin [...]
&gt; ==2100== Thread 9:
&gt; ==2100== Source and destination overlap in memcpy(0x256d7170, 0x256d7570, 1280)
&gt; ==2100==    at 0x4A06A3A: memcpy (mc_replace_strmem.c:497)</span >

That does look like a very possible smoking gun. 

Normally, a memcpy that copies _downwards_ (like the one above) will work
perfectly well in practice, because the &quot;natural&quot; way to do memcpy() by making
it just copy things upwards will &quot;just work&quot; even for the overlapping case.

So it would be a bug to use memcpy for overlapping areas, but it would be a
bug that normally would never show up.

But if the new improved 64bit memcpy started copying things backwards, it might
cause trouble with such an overlapping memcpy user.

[ That said - why the heck would you ever do memcpy() backwards? Things like
  automatic prefetchers usually work better for the &quot;natural&quot; patterns, so a
  backwards memcpy is generally a bad thing to do unless you have some active
  reason for it, like doing a memmove() ]

<span class="quote">&gt; On a related note, is there a glibc environment flag that can be set to force a
&gt; generic memcpy routine to run?</span >

Indeed, that would be very interesting to see. 

Andreas?</pre>
    </div>
  <div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 02:37:55 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Linus is right - looking at the memcpy patch comments ( <a href="http://article.gmane.org/gmane.comp.lib.glibc.alpha/1527">http://article.gmane.org/gmane.comp.lib.glibc.alpha/1527</a> ) shows it is going backwards. One of the CPU feature tests that must pass before this memcpy is used is called HAS_FAST_COPY_BACKWARD.</pre>
    </div>
  <div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 02:39:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Sorry, the link should have been <a href="http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278">http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278</a> .</pre>
    </div>
  <div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 04:32:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Tell adobe.</pre>
    </div>
  <div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 05:04:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><a href="https://bugs.adobe.com/jira/browse/FP-5739">https://bugs.adobe.com/jira/browse/FP-5739</a></pre>
    </div>
  <div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 05:05:44 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >If someone knows how to make Adobe pay more attention than usual, this would be perfect.</pre>
    </div>
  <div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 05:33:17 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I did notice a forum post <a href="http://forums.adobe.com/thread/748698?tstart=0">http://forums.adobe.com/thread/748698?tstart=0</a> which it might be worth adding a comment to if you have a suitable account to do so. It might also be explicitly pointing to the memcpy man page which says it shouldn't be used for overlapping regions so that Adobe realize they are doing something broken which just happened to work previously.


MEMCPY(3)                  Linux Programmer's Manual                 MEMCPY(3)

NAME
       memcpy - copy memory area

SYNOPSIS
       #include &lt;string.h&gt;

       void *memcpy(void *dest, const void *src, size_t n);

DESCRIPTION
       The  memcpy()  function  copies  n bytes from memory area src to memory
       area dest.  The memory areas should not overlap.  Use memmove(3) if the
       memory areas do overlap.

....</pre>
    </div>
  <div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 10:52:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >So in the kernel we have a pretty strict &quot;no regressions&quot; rule, and that if people depend on interfaces we exported having side effects that weren't intentional, we try to fix things so that they still work unless there is a major reason not to.

So I'm disappointed glibc just closes this as NOTABUG. There's no real reason to do the copy backwards that I can see, so doing it that way is just stupid.

But whatever. You can do a LD_PRELOAD trick to get a sane memcpy(), and it does indeed fix the sound for me. Just do something like this:

    prompt$ cat &gt; mymemcpy.c
    #include &lt;sys/types.h&gt;

    void *memcpy(void *dst, const void *src, size_t size)
    {
	void *orig = dst;
	asm volatile(&quot;rep ; movsq&quot;
		:&quot;=D&quot; (dst), &quot;=S&quot; (src)
		:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &gt;&gt; 3)
		:&quot;memory&quot;);
	asm volatile(&quot;rep ; movsb&quot;
		:&quot;=D&quot; (dst), &quot;=S&quot; (src)
		:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &amp; 7)
		:&quot;memory&quot;);
	return orig;
    }
    ^D
    prompt$ gcc -O2 -c mymemcpy.c
    prompt$ ld -G mymemcpy.o -o mymemcpy.so
    prompt$ LD_PRELOAD mymemcpy.so /opt/google/chrome/google-chrome &amp;

and it does seem to work. Not a lot of testing, but at least TED-talks work for me again (and I tested the Daughtry thing too, although I am not convinced it sounds all that much better without the sound corruption).</pre>
    </div>
  <div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 11:10:27 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The only stupidity is crap software violating well known rules that have existed forever.</pre>
    </div>
  <div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 11:20:39 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c39">comment #39</a>)
<span class="quote">&gt; The only stupidity is crap software violating well known rules that have
&gt; existed forever.</span >

Umm. Bugs happen. That's a fact.

You can call it &quot;crap software&quot; all you like, but the thing is, if memcpy  doesn't warn about overlaps, there's no test coverage, and in that case even well-designed software will have bugs.

Then the question becomes one of &quot;Why break it?&quot;

I have yet to hear the actual _reason_ for making the change to memcpy. We know what the downside is. What's the upside?</pre>
    </div>
  <div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Andreas Schwab</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 11:38:23 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >See <a href="show_bug.cgi?id=638477#c29">comment 29</a>.  This is well known.</pre>
    </div>
  <div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 11:46:09 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Andreas - I know it's a well-known issue. That doesn't change anything at all. Read my comment: bugs happen.

What's the upside of breaking things? That's all I'm asking for.</pre>
    </div>
  <div id="c43" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jakub Jelinek</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 11:56:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The upside is (ought to be) faster memcpy, which is something that helps a lot of apps.  Recent glibcs use STT_GNU_IFUNC magic to select one out of several different versions of many of the common string/memory ops as well as a few other functions, depending on what CPU is used.</pre>
    </div>
  <div id="c44" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 12:07:26 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Jakub:
Is there a way to force the function STT_GNU_IFUNC runs for glibc to select a different version based on an environment variable (I searched the web a few days ago but turned up nothing)?</pre>
    </div>
  <div id="c45" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jakub Jelinek</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 12:18:12 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >No (except for LD_PRELOAD).
The thing is, the IFUNC decision function can be only very limited, it is called during relocation processing, so it can't rely too much on relocation processing having been performed already.  And it must be very fast and thread-safe, doing getenv there would be very problematic.  It usually just either tests cpuid flags or tests saved cpuid flags and vars computed from that.
Plus, each of the function usually has a different set of decisions, there is no common notion of oldest etc.</pre>
    </div>
  <div id="c46" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 13:13:02 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c43">comment #43</a>)
<span class="quote">&gt; The upside is (ought to be) faster memcpy, which is something that helps a lot
&gt; of apps.  </span >

Hey, I'm a big believer in fast memcpy's, I just don't believe that going
backwards helps performance. 

In the kernel, the optimized x86 memcpy we use is actually a memmove(), because while performance is really important, so is repeatability and avoiding surprises (strictly speaking, we have two: the &quot;rep movs&quot; version for the case where that is supposed to be fast, and the open-coded copy version. The &quot;rep movs&quot; version is forwards-only and doesn't handle overlapping areas).

I dunno. I just tested my stupid &quot;mymemcpy.so&quot; against the glibc memcpy() on the particular kind of memcpy that valgrid reports (16-byte aligned 1280-byte memcpy).

I did both cached (same block over and over) and non-cached (a million blocks in sequence).

For the cached case my stupid LD_PRELOAD version was consistently a bit faster.
 
The noise on the non-cached case was larger, but the glibc memcpy may have been faster. I say &quot;may have been&quot; because it went both ways: I did ten runs, and my LD_PRELOAD one still won 6 out of those 10 runs, but the noise was large enough that I will allow that I'm not going to guarantee anything.

Do I have a point? I bothered to _measure_ the speed, and according to my measurements, glibc wasn't any faster than my trivial version and was likely slower. But I only tested two cases.

Regardless, it boils down to: we know the glibc change resulted in problems for real users. We do _not_ know that it helped anything at all.

And in the end, the big question is simple:

Are you seriously going to do a Fedora-14 release with a known non-working flash player?</pre>
    </div>
  <div id="c47" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Tom Horsley</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 14:33:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Then, of course, there is the wacked out side effects STT_GNU_IFUNC has
when you are running a process in a virtual machine and try to live migrate
it to a slightly different architecture host :-). Glibc is trying to be
too clever for anyone's good.</pre>
    </div>
  <div id="c48" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 14:40:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c47">comment #47</a>)

I doubt that is much of a problem in practice, since it's presumably done once at process startup, so live migration at worst just means that you might have the slightly differently optimized version running. 

And if you depend on actual semantic issues (ie &quot;does this machine support SSE4&quot;), then that just means that you'd better live migrate between machines that are sufficiently similar for that to all work.

So no, I don't think live migration is likely to be a big issue. Not compared to &quot;flash doesn't work right&quot;.</pre>
    </div>
  <div id="c49" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:19:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c38">comment #38</a>)
<span class="quote">&gt;     prompt$ gcc -O2 -c mymemcpy.c
&gt;     prompt$ ld -G mymemcpy.o -o mymemcpy.so
&gt;     prompt$ LD_PRELOAD mymemcpy.so /opt/google/chrome/google-chrome &amp;</span >

For anyone that is having issues following this, change 
prompt$ LD_PRELOAD mymemcpy.so /opt/google/chrome/google-chrome &amp;
to
prompt$ LD_PRELOAD=mymemcpy.so /opt/google/chrome/google-chrome &amp;


A note:
I myself did have issues using this fix, I got 6 instances of this error message:
ERROR: ld.so: object 'mymemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.</pre>
    </div>
  <div id="c50" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:23:12 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c49">comment #49</a>)
I had no issues compiling it, no real clues (for me, a non-programmer).
Running 2.6.35.6-48.fc14.x86_64, glibc-2.12.90-18</pre>
    </div>
  <div id="c51" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Teva Riou</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:31:25 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Try something like this:
LD_PRELOAD=/full/path/to/mymemcpy.so /opt/google/chrome/google-chrome &amp;

or for firefox:
LD_PRELOAD=/full/path/to/mymemcpy.so /usr/bin/firefox &amp;</pre>
    </div>
  <div id="c52" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:33:08 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c49">comment #49</a>)
&gt;
<span class="quote">&gt; I myself did have issues using this fix, I got 6 instances of this error
&gt; message:
&gt; ERROR: ld.so: object 'mymemcpy.so' from LD_PRELOAD cannot be preloaded:
&gt; ignored.</span >

Try giving it the whole absolute pathname. 

I should really have cut-and-pasted my actual command lines rather than try to
write them out and getting them wrong. My actual command line was really

  LD_PRELOAD=/home/torvalds/mymemcpy.so /opt/google/chrome/google-chrome &amp;

but you'd obviously have to fix that &quot;/home/torvalds&quot; part to match where-ever
you end up installing that .so file.

The nicest alternative might be to just install that mymemcpy.so into the
google chrome directory, and add the LD_PRELOAD to the wrapper shell script
that google chrome already uses for the xdg binaries and the ffmpeg library.

And obviously something similar should work for firefox. I just happen to use
chrome, so I gave the directions (approximate as they were) for the thing I
tried. 

No guarantees. It was a really quick hack.</pre>
    </div>
  <div id="c53" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:42:23 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c52">comment #52</a>)
<span class="quote">&gt; Try giving it the whole absolute pathname. </span >
That was it :-) Works great for me. Thanks Linus!

So, here's how to bypass the bug (without downgrading glibc), using Google Chrome.

Follow the instructions in <a href="show_bug.cgi?id=638477#c38">comment #38</a> except for the last intruction, replace:
prompt$ LD_PRELOAD mymemcpy.so /opt/google/chrome/google-chrome &amp;
with
prompt$ LD_PRELOAD=$(pwd)/mymemcpy.so /opt/google/chrome/google-chrome &amp;</pre>
    </div>
  <div id="c54" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 15:47:01 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Verified that this fix works for Firefox as well.

Just replace
LD_PRELOAD=$(pwd)/mymemcpy.so /opt/google/chrome/google-chrome &amp;
with
LD_PRELOAD=$(pwd)/mymemcpy.so /usr/bin/firefox &amp;

(Make sure you've shutdown all running copies of firefox before doing this)</pre>
    </div>
  <div id="c55" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 16:03:19 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'm sure thousands of people will find their way here, so, here's a quicky. To bypass this issue (which is an issue in Adobe Flash), you may run the below &quot;fix&quot; brought forth in <a href="show_bug.cgi?id=638477#c38">comment #38</a>

1. Cut and paste this into a prompt:
---Cut below---
cat &gt; $HOME/Downloads/linusmemcpy.c &lt;&lt;EOF
#include &lt;sys/types.h&gt;

void *memcpy(void *dst, const void *src, size_t size)
{
void *orig = dst;
asm volatile(&quot;rep ; movsq&quot;
:&quot;=D&quot; (dst), &quot;=S&quot; (src)
:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &gt;&gt; 3)
:&quot;memory&quot;);
asm volatile(&quot;rep ; movsb&quot;
:&quot;=D&quot; (dst), &quot;=S&quot; (src)
:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &amp; 7)
:&quot;memory&quot;);
return orig;
}
EOF
cd $HOME/Downloads
gcc -O2 -c linusmemcpy.c
ld -G linusmemcpy.o -o linusmemcpy.so
---Stop cutting here---

2. Shutdown any running copies of your webbrowser.

3. Until a Adobe has fixed their Flash player, start your webbrowser as below:

For Firefox users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/firefox &amp;

For Google Chrome users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /opt/google/chrome/google-chrome &amp;</pre>
    </div>
  <div id="c56" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Patrick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-08 21:52:31 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c38">comment #38</a>)

Thank you for this neat workaround. Flash is now as happy as can be expected. In spite of the NOTABUG, hopefully the glibc developers or Fedora will come up with a more permanent solution because if we have to wait for Adobe to fix flash, hell in several dimensions will have frozen over multiple times.</pre>
    </div>
  <div id="c57" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">drewskiwooskie
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 08:30:40 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Bypass fixed my problem as well, thanks!</pre>
    </div>
  <div id="c58" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 12:48:05 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >For Firefox users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/firefox &amp;

For Google Chrome users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /opt/google/chrome/google-chrome &amp;

and for opera users?</pre>
    </div>
  <div id="c59" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Teva Riou</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 12:59:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera &amp;</pre>
    </div>
  <div id="c60" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dan O'Brien</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 13:30:55 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >LD_PRELOAD works for me an FF.  Thanks, Linus.

Tag.</pre>
    </div>
  <div id="c61" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 13:39:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >This fix does not work for me.  


[1037][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.                              
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.                                                                    
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.                                                                    
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.                                                                    
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.</pre>
    </div>
  <div id="c62" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 13:43:08 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >If you're running with SELinux, you'd need to set the file context on the shared object correctly.

chcon --reference=/lib64/libc.so.6 &lt;your file&gt;</pre>
    </div>
  <div id="c63" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 13:54:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >This still does not work for me after:

chcon --reference=/lib64/libc.so.6 &lt;your file&gt;

What exactly is this code doing?</pre>
    </div>
  <div id="c64" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Teva Riou</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 13:59:14 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c61">comment #61</a>)
<span class="quote">&gt; This fix does not work for me.  
&gt; 
&gt; 
&gt; [1037][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object
&gt; '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded:
&gt; ignored.                              
&gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; cannot be preloaded: ignored.                                                   
&gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; cannot be preloaded: ignored.                                                   
&gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; cannot be preloaded: ignored.                                                   
&gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; cannot be preloaded: ignored.</span >

Make sure linusmemcpy.so is in /home/neil/Downloads, otherwise copy it there or type the right path.

LD_PRELOAD=/full/path/to/linusmymemcpy.so /usr/bin/opera &amp;</pre>
    </div>
  <div id="c65" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 14:08:45 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c64">comment #64</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c61">comment #61</a>)
&gt; &gt; This fix does not work for me.  
&gt; &gt; 
&gt; &gt; 
&gt; &gt; [1037][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object
&gt; &gt; '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded:
&gt; &gt; ignored.                              
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.
&gt; 
&gt; Make sure linusmemcpy.so is in /home/neil/Downloads, otherwise copy it there or
&gt; type the right path.
&gt; 
&gt; LD_PRELOAD=/full/path/to/linusmymemcpy.so /usr/bin/opera &amp;</span >

Everything is where it should be:

[1102][neil&#64;neil-laptop:~/Downloads]$ locate linusmemcpy.so
/home/neil/Downloads/linusmemcpy.so                                                                                                                                         
[1102][neil&#64;neil-laptop:~/Downloads]$ chcon --reference=/lib64/libc.so.6 /home/neil/Downloads/linusmemcpy.so
[1102][neil&#64;neil-laptop:~/Downloads]$ LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera &amp;
[2] 14013
[1]   Done                    LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera
[1103][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.

Sorry to be a pain.  My system doesn't seem like this.  This does work great for Firefox though.  It's just Opera.</pre>
    </div>
  <div id="c66" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Bill Nottingham</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 14:15:25 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c63">comment #63</a>)
<span class="quote">&gt; This still does not work for me after:
&gt; 
&gt; chcon --reference=/lib64/libc.so.6 &lt;your file&gt;</span >

Just to be clear, replace '&lt;your file&gt;' with the path to your shared object (in your case /home/neil/Downloads/linusmemcpy.so ... change as necessary.)

<span class="quote">&gt; What exactly is this code doing?</span >

Setting the SELinux context so that it's treated as a shared object with code as opposed to just a normal file.</pre>
    </div>
  <div id="c67" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 14:20:07 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c64">comment #64</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c61">comment #61</a>)
&gt; &gt; This fix does not work for me.  
&gt; &gt; 
&gt; &gt; 
&gt; &gt; [1037][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object
&gt; &gt; '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded:
&gt; &gt; ignored.                              
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.                                                   
&gt; &gt; ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD
&gt; &gt; cannot be preloaded: ignored.
&gt; 
&gt; Make sure linusmemcpy.so is in /home/neil/Downloads, otherwise copy it there or
&gt; type the right path.
&gt; 
&gt; LD_PRELOAD=/full/path/to/linusmymemcpy.so /usr/bin/opera &amp;</span >

Everything is where it should be:

[1102][neil&#64;neil-laptop:~/Downloads]$ locate linusmemcpy.so
/home/neil/Downloads/linusmemcpy.so                                                                                                                                         
[1102][neil&#64;neil-laptop:~/Downloads]$ chcon --reference=/lib64/libc.so.6 /home/neil/Downloads/linusmemcpy.so
[1102][neil&#64;neil-laptop:~/Downloads]$ LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera &amp;
[2] 14013
[1]   Done                    LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera
[1103][neil&#64;neil-laptop:~/Downloads]$ ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.
ERROR: ld.so: object '/home/neil/Downloads/linusmemcpy.so' from LD_PRELOAD cannot be preloaded: ignored.

Sorry to be a pain.  My system doesn't seem like this.  This does work great for Firefox though.  It's just Opera.</pre>
    </div>
  <div id="c68" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 14:25:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >AAArrrrggg.  Sorry about the double post.  To be perfectly clear on my end, this is the exact command I am issuing:

chcon --reference=/lib64/libc.so.6 ~/Downloads/linusmemcpy.c

the exact location of linusmemcpy.c is /home/neil/Downloads

and the exact command to launch Opera:

LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/opera &amp;

And by &quot;What exactly is this code doing?&quot;  I was referring to the contents of linusmemcpy.c.  I understand the SELinux issue.</pre>
    </div>
  <div id="c69" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sitsofe Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 18:45:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Neil:
file `which opera`

If it's a script which plays with LD_LIBRARY_PATH this may be why you are struggling to get it working.</pre>
    </div>
  <div id="c70" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-09 21:51:42 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c69">comment #69</a>)
<span class="quote">&gt; Neil:
&gt; file `which opera`
&gt; 
&gt; If it's a script which plays with LD_LIBRARY_PATH this may be why you are
&gt; struggling to get it working.</span >

[1843][neil&#64;neil-laptop:~]$ file `which opera`
/usr/bin/opera: POSIX shell script text executable

The contents of said &quot;POSIX shell script&quot; are:

#!/bin/sh
export OPERA_DIR=${OPERA_DIR:-/usr/share/opera}
exec /usr/lib/opera/opera &quot;$&#64;&quot;

This is just a shell script that points to &quot;/usr/lib/opera/opera&quot;?  I'm not quite sure I get the reason behind this.

I appreciate all the assistance.  I'll just have to wait for the official update.  If I really can't handle the sound I'll just use FF for the time being.

*sigh*...why does Opera always have to be so damn difficult?...</pre>
    </div>
  <div id="c71" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Júlíus Þór Bess</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 06:09:22 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Add:

export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so

to the Opera shell script so it looks like:

#!/bin/sh
export OPERA_DIR=${OPERA_DIR:-/usr/share/opera}
export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so
exec /usr/lib/opera/opera &quot;$&#64;&quot;

That should do the trick.</pre>
    </div>
  <div id="c72" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 09:47:39 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c71">comment #71</a>)
<span class="quote">&gt; Add:
&gt; 
&gt; export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so
&gt; 
&gt; to the Opera shell script so it looks like:
&gt; 
&gt; #!/bin/sh
&gt; export OPERA_DIR=${OPERA_DIR:-/usr/share/opera}
&gt; export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so
&gt; exec /usr/lib/opera/opera &quot;$&#64;&quot;
&gt; 
&gt; That should do the trick.</span >

THAT DID IT!  Thank you so much.  I should have thought to try that.  I shall share this wealth of knowledge.</pre>
    </div>
  <div id="c73" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">bacole
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 14:46:21 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >So this bug is marked NOTABUG, yet on the adobe forum, it's still asserted that the bug is in glibc (obviously not strictly correct but that's the conclusion there).

I don't see any bug report in the adobe bug database against flash:

<a href="https://bugs.adobe.com/jira/secure/IssueNavigator.jspa?header=FP">https://bugs.adobe.com/jira/secure/IssueNavigator.jspa?header=FP</a>

Seems like a bug should have been officially submitted to adobe before this bug report got moved to NOTABUG.

It's great that there is a workaround, but expecting all fedora 14 users to compile and maintain their own memcpy until adobe realizes what is wrong is not a very good situation.</pre>
    </div>
  <div id="c74" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">H.J. Lu</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 15:00:40 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >64bit Fedora 14 is pretty much broken on machines with
SSE4.2. I ran into random crashes with 64bit Fedora 14 on
Intel Core i7. It turns out that 64bit strncasecmp
is broken on machines with SSE 4.2:

<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Bad x86-64 strncasecmp on Intel Core i7"
   href="show_bug.cgi?id=651638">https://bugzilla.redhat.com/show_bug.cgi?id=651638</a></pre>
    </div>
  <div id="c75" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">bacole
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 15:16:50 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Ah, sorry I missed 
<a href="https://bugs.adobe.com/jira/browse/FP-5739">https://bugs.adobe.com/jira/browse/FP-5739</a>
somehow didn't show up in my searches at first.</pre>
    </div>
  <div id="c76" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 15:40:23 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >This bug is mentioned here, in <a href="show_bug.cgi?id=638477#c35">comment 35</a> to be precise.</pre>
    </div>
  <div id="c77" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pavel Roskin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 17:41:59 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Just for the record, the problem playing music and video on vkontakte.ru (a.k.a. vk.com) is also due to this.  I tested the site extensively in Firefox with mymemcpy.so preloaded, and almost everything was fine.  I was able to get one video to produce the noise, so there must be another, less common problem unrelated to this issue.  However, almost everything would play correctly, whereas without mymemcpy.so, I would be lucky if any soundtrack would play.</pre>
    </div>
  <div id="c78" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Jan Engelhardt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 17:53:03 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c40">comment #40</a>)
<span class="quote">&gt; 
&gt; You can call it &quot;crap software&quot; all you like, but the thing is, if memcpy 
&gt; doesn't warn about overlaps, there's no test coverage</span >

So let's just add an abort() call to memcpy if it is detected that the areas overlap. Doing so is within the C specification and will surely get everybody their test coverage. Performance degradation, I hear? Limit it to -D_FORTIFY_SOURCE then maybe.</pre>
    </div>
  <div id="c79" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Charlie Brady</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 18:08:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c37">comment #37</a>)

<span class="quote">&gt; DESCRIPTION
&gt;        The  memcpy()  function  copies  n bytes from memory area src to memory
&gt;        area dest.  The memory areas should not overlap.</span >

I read that as saying &quot;should&quot;. Not &quot;must&quot;. memcpy should copy n bytes from memory area src to memory area dest, even if the addresses overlap.</pre>
    </div>
  <div id="c80" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Matthew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 18:10:10 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Is it possible to use symbol versioning to provide applications built against new glibcs with the faster memcpy, without breaking buggy applications that rely on the old behaviour?</pre>
    </div>
  <div id="c81" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bojan Smojver</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 20:25:03 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c46">comment #46</a>)
 
<span class="quote">&gt; The noise on the non-cached case was larger, but the glibc memcpy may have been
&gt; faster. I say &quot;may have been&quot; because it went both ways: I did ten runs, and my
&gt; LD_PRELOAD one still won 6 out of those 10 runs, but the noise was large enough
&gt; that I will allow that I'm not going to guarantee anything.</span >

Out of curiosity, on which CPU what this?</pre>
    </div>
  <div id="c82" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Christopher Curtis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 20:28:21 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c79">comment #79</a>)

If you prefer, the POSIX man page for memcpy states: &quot;If copying takes place between objects that overlap, the behavior is undefined.&quot; The change history is: &quot;First released in Issue 1. Derived from Issue 1 of the SVID.&quot;

<a href="http://www.opengroup.org/onlinepubs/009695399/functions/memcpy.html">http://www.opengroup.org/onlinepubs/009695399/functions/memcpy.html</a>


A quick Google search shows this to be the preferred language.  I'm not sure why it differs in the Linux man pages.  'Should' is semantically meaningless - it is either predictable or it is not.


The BSD man page [1993] corroborates:

<a href="http://www.unix.com/man-page/FreeBSD/3/memcpy/">http://www.unix.com/man-page/FreeBSD/3/memcpy/</a>

BUGS
     In this implementation memcpy() is implemented using bcopy(3), and there-
     fore the strings may overlap.  On other systems, copying overlapping
     strings may produce surprises.  Programs intended to be portable should
     use memmove(3) when src and dst may overlap.


And here the text from an old version of the GNU C library documentation:

<a href="http://www.cs.utah.edu/dept/old/texinfo/glibc-manual-0.02/library_5.html#SEC61">http://www.cs.utah.edu/dept/old/texinfo/glibc-manual-0.02/library_5.html#SEC61</a>

Function: void * memcpy (void *to, const void *from, size_t size)

The memcpy function copies size bytes from the object beginning at from into the object beginning at to. The behavior of this function is undefined if the two arrays to and from overlap; use memmove instead if overlapping is possible.


For others looking back, I also have to note that you omitted the rest of the text from <a href="show_bug.cgi?id=638477#c37">comment #37</a>, which states: &quot;Use memmove(3) if the memory areas do overlap.&quot;</pre>
    </div>
  <div id="c83" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Charlie Brady</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 21:01:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >
<span class="quote">&gt; If you prefer, the POSIX man page for memcpy states: &quot;If copying takes
&gt; place between objects that overlap, the behavior is undefined.&quot; </span >

Yes, for POSIX compliance, it is necessary to assume that the behaviour is
undefined. I doubt, though, that Adobe is claiming POSIX conformance or
portability for its code.

I don't think we are talking about whether glibc/linux *may* change the
implementation while still staying POSIX compliant. We should be talking about
whether glibc/linux *should* change the current behaviour while programs exist
which don't follow the fine (but soft) advice of current documentation, and
will fail if that behaviour changes. That's an issue worthy of discussion,
which can't be decided by references to BSD documentation and POSIX standards.</pre>
    </div>
  <div id="c84" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bojan Smojver</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 21:14:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c83">comment #83</a>)
 
<span class="quote">&gt; Yes, for POSIX compliance, it is necessary to assume that the behaviour is
&gt; undefined. I doubt, though, that Adobe is claiming POSIX conformance or
&gt; portability for its code.</span >

Forget POSIX. It's been like this for forever. K&amp;R C book, 2nd edition, page 250.</pre>
    </div>
  <div id="c85" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Siarhei Siamashka</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-11 00:21:54 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c46">comment #46</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c43">comment #43</a>)
&gt; &gt; The upside is (ought to be) faster memcpy, which is something that helps a lot
&gt; &gt; of apps.  
&gt; 
&gt; Hey, I'm a big believer in fast memcpy's, I just don't believe that going
&gt; backwards helps performance. 
&gt; 
&gt; In the kernel, the optimized x86 memcpy we use is actually a memmove(), because
&gt; while performance is really important, so is repeatability and avoiding
&gt; surprises (strictly speaking, we have two: the &quot;rep movs&quot; version for the case
&gt; where that is supposed to be fast, and the open-coded copy version. The &quot;rep
&gt; movs&quot; version is forwards-only and doesn't handle overlapping areas).
&gt; 
&gt; I dunno. I just tested my stupid &quot;mymemcpy.so&quot; against the glibc memcpy() on
&gt; the particular kind of memcpy that valgrid reports (16-byte aligned 1280-byte
&gt; memcpy).
&gt; 
&gt; I did both cached (same block over and over) and non-cached (a million blocks
&gt; in sequence).
&gt; 
&gt; For the cached case my stupid LD_PRELOAD version was consistently a bit faster.</span >

The same Intel developers submitted a similar optimization to libpixman, and provided the following explanation when asked about about this copying backwards part:
<a href="http://lists.freedesktop.org/archives/pixman/2010-August/000423.html">http://lists.freedesktop.org/archives/pixman/2010-August/000423.html</a>

I also was not totally convinced that the backwards copy is really the best solution for the problem:
<a href="http://lists.freedesktop.org/archives/pixman/2010-September/000465.html">http://lists.freedesktop.org/archives/pixman/2010-September/000465.html</a>
<a href="http://lists.freedesktop.org/archives/pixman/2010-September/000469.html">http://lists.freedesktop.org/archives/pixman/2010-September/000469.html</a></pre>
    </div>
  <div id="c86" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Timur Iskhodzhanov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-11 03:10:07 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(I'm sorry to jump in the middle of the discussion)

When a program is run under Valgrind it replaces memcpy with its own implementation:
<a href="http://code.google.com/p/valgrind-variant/source/browse/trunk/valgrind/memcheck/mc_replace_strmem.c#452">http://code.google.com/p/valgrind-variant/source/browse/trunk/valgrind/memcheck/mc_replace_strmem.c#452</a>

The latter is intentionally overlap-safe, so no surprise it 'fixes' the sound for you.
Plus it throws a Valgrind overlap report like those you've seen.</pre>
    </div>
  <div id="c87" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">freetg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-11 19:51:14 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >That's work for me.Thanks</pre>
    </div>
  <div id="c88" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pavel Roskin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 00:09:41 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I wonder if libflashsupport could be resurrected to deal with this and further breakages in Adobe flash player.  The current libflashplayer code also adds jack support, which is another good thing: 
<a href="http://repo.or.cz/w/libflashsupport-jack.git">http://repo.or.cz/w/libflashsupport-jack.git</a></pre>
    </div>
  <div id="c89" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">john getsoian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 08:03:08 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c54">comment #54</a>)
<span class="quote">&gt; Verified that this fix works for Firefox as well.
&gt; 
&gt; Just replace
&gt; LD_PRELOAD=$(pwd)/mymemcpy.so /opt/google/chrome/google-chrome &amp;
&gt; with
&gt; LD_PRELOAD=$(pwd)/mymemcpy.so /usr/bin/firefox &amp;
&gt; 
&gt; (Make sure you've shutdown all running copies of firefox before doing this)</span >

Success on two systems running firefox with this fix. Many thanks!</pre>
    </div>
  <div id="c90" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">John Villalovos</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 08:47:18 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >It would be interesting to see if the fix from <a href="show_bug.cgi?id=638477#c19">Comment 19</a> of:
<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Bad x86-64 strncasecmp on Intel Core i7"
   href="show_bug.cgi?id=651638#c19">https://bugzilla.redhat.com/show_bug.cgi?id=651638#c19</a>

Resolves this bug also.  There is an updated glibc there.</pre>
    </div>
  <div id="c91" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c91">Comment 91</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Charlie Brady</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 08:56:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><span class="quote">&gt; It would be interesting to see if the fix from <a href="show_bug.cgi?id=638477#c19">Comment 19</a> of:
&gt; <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Bad x86-64 strncasecmp on Intel Core i7"
   href="show_bug.cgi?id=651638#c19">https://bugzilla.redhat.com/show_bug.cgi?id=651638#c19</a></span >
&gt;
<span class="quote">&gt; Resolves this bug also.</span >

I don't see 'resolve regressions in misused memcpy' in the changes list:

    Update from master

        * Fix memory leak in fnmatch
        * Support Intel processor model 6 and model 0x2c
        * Fix comparison in sqrtl for IBM long double
        * Fix one exit path in x86-64 SSE4.2 str{,n}casecmp (BZ#12205, #651638)
        * Fix warnings in __bswap_16 (BZ#12194)
        * Use IFUNC on x86-64 memset
        * Power7-optimized mempcpy
        * Handle uneven cache size in 32bit SSE2 memset (BZ#12191)
        * Verify in ttyname that the symlink is valid (BZ#12167)
        * Update Danish translations
        * Fix concurrency problem between dl_open and dl_iterate_phdr
        * Fix x86-64 strchr propagation of search byte into all bytes of SSE

    register (BZ#12159)

        * Fix perturbing in malloc on free (BZ#12140)
        * PPC/A2 optimized memcpy function
        * Add C99 FP_FAST_FMA{,F,L} macros to &lt;math.h&gt;
        * Check that the running kernel is new enough (#649589)</pre>
    </div>
  <div id="c92" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c92">Comment 92</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">John Villalovos</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 09:43:20 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c91">comment #91</a>)
<span class="quote">&gt; &gt; It would be interesting to see if the fix from <a href="show_bug.cgi?id=638477#c19">Comment 19</a> of:
&gt; &gt; <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Bad x86-64 strncasecmp on Intel Core i7"
   href="show_bug.cgi?id=651638#c19">https://bugzilla.redhat.com/show_bug.cgi?id=651638#c19</a>
&gt; &gt;
&gt; &gt; Resolves this bug also.
&gt; 
&gt; I don't see 'resolve regressions in misused memcpy' in the changes list:</span >

That is why I thought it would be interesting to see if it actually does resolve the issue :)</pre>
    </div>
  <div id="c93" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c93">Comment 93</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pavel Roskin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-12 11:27:16 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I've tried glibc-2.12.90-19, as it doesn't fix the problem (quite expectedly).</pre>
    </div>
  <div id="c94" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c94">Comment 94</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Ray Strode [halfline]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-13 12:02:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=460254" name="attach_460254" title="replace all memcpy calls with memmove calls in libflashplayer.so">attachment 460254</a> <a href="attachment.cgi?id=460254&amp;action=edit" title="replace all memcpy calls with memmove calls in libflashplayer.so">[details]</a></span>
replace all memcpy calls with memmove calls in libflashplayer.so

I wrote this quick and dirty script last night after checking in on this bug report and reading the results. It fixes up the flash plugin to use memmove instead of memcpy across the board.  Caveats:

1) The script takes a long time to run (although I don't really know how long since I went off and did other things while it ran)
2) There may be practical performance implications in using memmove where memcpy is okay not sure. Although, <a href="show_bug.cgi?id=638477#c46">comment 46</a> suggests it may not be that bad of a hit.
3) It works okay for me in that my audio doesn't clip anymore on the one version of libflashplayer.so that I've tried it on, but I haven't done any significant testing.</pre>
    </div>
  <div id="c95" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c95">Comment 95</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Uģis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-13 13:07:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c94">comment #94</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=460254" name="attach_460254" title="replace all memcpy calls with memmove calls in libflashplayer.so">attachment 460254</a> <a href="attachment.cgi?id=460254&amp;action=edit" title="replace all memcpy calls with memmove calls in libflashplayer.so">[details]</a></span>
&gt; replace all memcpy calls with memmove calls in libflashplayer.so
&gt; </span >

Thanks man, you script works fine for me too. Gonna send fixed plugin to my non-geek brother, who is using fedora only becouse its the only distro that recognises his old usb wifi dongle...</pre>
    </div>
  <div id="c96" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c96">Comment 96</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Ben Bromley</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-14 08:55:05 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c71">comment #71</a>)
<span class="quote">&gt; Add:
&gt; 
&gt; export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so
&gt; 
&gt; to the Opera shell script so it looks like:
&gt; 
&gt; #!/bin/sh
&gt; export OPERA_DIR=${OPERA_DIR:-/usr/share/opera}
&gt; export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so
&gt; exec /usr/lib/opera/opera &quot;$&#64;&quot;
&gt; 
&gt; That should do the trick.</span >

In a similar vein, if you run your own version of Firefox, you can add export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so to the run-mozilla.sh file.  For me, its in /opt/firefox/.  If you scroll most of the way to the bottom of that file, you will see this:
export MOZILLA_FIVE_HOME LD_LIBRARY_PATH
export SHLIB_PATH LIBPATH LIBRARY_PATH ADDON_PATH DYLD_LIBRARY_PATH

Right below that, I added:
export LD_PRELOAD=$HOME/Downloads/linusmemcpy.so

And it works just fine just calling /opt/firefox/firefox, so you can use a toolbar launcher instead of having to launch it from the command line every time.</pre>
    </div>
  <div id="c97" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c97">Comment 97</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dan O'Brien</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-14 09:16:43 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >For a CLOSED NOTABUG bug report, seems to be a lot of traffic on it.  Is ANYONE actually fixing this problem either in glibc or in Flash?  This is ridiculuous.</pre>
    </div>
  <div id="c98" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c98">Comment 98</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bill Davidsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-14 09:23:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c46">comment #46</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c43">comment #43</a>)
&gt; &gt; The upside is (ought to be) faster memcpy, which is something that helps a lot
&gt; &gt; of apps.  
&gt; 
&gt; Hey, I'm a big believer in fast memcpy's, I just don't believe that going
&gt; backwards helps performance. 
&gt; </span >

<span class="quote">&gt; Do I have a point? I bothered to _measure_ the speed, and according to my
&gt; measurements, glibc wasn't any faster than my trivial version and was likely
&gt; slower. But I only tested two cases.
&gt; 
&gt; Regardless, it boils down to: we know the glibc change resulted in problems for
&gt; real users. We do _not_ know that it helped anything at all.
&gt; </span >

The justification of the change was to make memcpy faster *on little processors*. So unless you tested on something other than your usual machine, it may not have given you the relevant data. You never seemed like an ATOM kind of guy. But checking for overlap is just competent software design, not rocket science. We did it in the MULTICS era (late 1960s) in assembler. Omitting a &quot;will this work&quot; check in a library seems shoddy.</pre>
    </div>
  <div id="c99" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c99">Comment 99</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Ma Ling</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-15 02:17:54 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The blow reason is why to use backward copy, it is good on Core2, NHM, Opteron.
glbc memcpy will prefer to backward/forward copy mode according to offset from source and destination.

Optimize memcpy by avoiding memory false dependece

All read operations after allocation stage can run speculatively,
all write operation will run in program order, and if addresses are
different read may run before older write operation, otherwise wait
until write commit. However CPU don't check each address bit,
so read could fail to recognize different address even they
are in different page.For example if rsi is 0xf004, rdi is 0xe008,
in following operation there will generate big performance latency.
1. movq (%rsi),	%rax
2. movq %rax,	(%rdi)
3. movq 8(%rsi), %rax
4. movq %rax,	8(%rdi)

If %rsi and rdi were in really the same meory page, there are TRUE
read-after-write dependence because instruction 2 write 0x008 and
instruction 3 read 0x00c, the two address are overlap partially.
Actually there are in different page and no any issues,
but without checking each address bit CPU could think they are
in the same page, and instruction 3 have to wait for instruction 2
to write data into cache from write buffer, then load data from cache,
the cost time read spent is equal to mfence instruction. We may avoid it by
tuning operation sequence as follow.

1. movq 8(%rsi), %rax
2. movq %rax,	8(%rdi)
3. movq (%rsi),	%rax
4. movq %rax,	(%rdi)

Instruction 3 read 0x004, instruction 2 write address 0x010, no any
dependence.  At last on Core2 we gain 1.83x speedup compared with
original instruction sequence.  In this patch we first handle small
size(less 20bytes), then jump to different copy mode. Based on our
micro-benchmark small bytes from 1 to 127 bytes, we got up to 2X
improvement, and up to 1.5X improvement for 1024 bytes on Corei7. 

Thanks
Ling</pre>
    </div>
  <div id="c100" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c100">Comment 100</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Shurtleff</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-16 21:28:07 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Since the Atom processor is mentioned, I noticed that this problem didn't occur on my Toshiba netbook with a N455 atom processor, but was intolerable on a laptop with dual core Pentium, both with updated Fedora 14.

I am not much affected by this problem, but I do think if you are serious about offering Linux on the desktop, you have to either make it work with Adobe flash, or state publicly that you don't support it. The average user doesn't care squat about whether the coding follows the rules or arguments over who is responsible if it doesn't work. If it works on Win 7 and doesn't work on Fedora, it is Fedora and Linux that take the crap. Period.</pre>
    </div>
  <div id="c101" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c101">Comment 101</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-16 21:44:45 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'd personally suggest that glibc just alias memcpy() to memmove().

Yes, clearly overlapping memcpy's are invalid code, but equally clearly they do happen. And from a user perspective, what's the advantage of doing the wrong thing when you could just do the right thing? Optimize the hell out of memmove(), by all means.

Of course, it would be even better if the distro also made it easy for developers to see the bad memcpy's, so that they can fix their apps. Even if they'd _work_ fine (due to the memcpy just doing the RightThing(tm)), fixing the app is also the right thing to do, and this would just make Fedora and glibc look good.

Rather than make it look bad in the eyes of users who really don't care _why_ flash doesn't work, they just see it not working right.

There is no advantage to being just difficult and saying &quot;that app does something that it shouldn't do, so who cares?&quot;. That's not going to help the _user_, is it?

And what was the point of making a distro again? Was it to teach everybody a lesson, or was it to give the user a nice experience?</pre>
    </div>
  <div id="c102" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c102">Comment 102</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Yann Droneaud</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 03:00:25 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c101">comment #101</a>)

<span class="quote">&gt; Of course, it would be even better if the distro also made it easy for
&gt; developers to see the bad memcpy's, so that they can fix their apps. Even if
&gt; they'd _work_ fine (due to the memcpy just doing the RightThing(tm)), fixing
&gt; the app is also the right thing to do, and this would just make Fedora and
&gt; glibc look good.
&gt; </span >

This is probably already done: using -D_FORTIFY_SOURCE=1 enable use of 
__builtin___memcpy_chk()</pre>
    </div>
  
  <div id="c104" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c104">Comment 104</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 03:51:50 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >From <a href="https://bugs.adobe.com/jira/browse/FP-5739">https://bugs.adobe.com/jira/browse/FP-5739</a>
Shu Wang added a comment - 11/16/10 02:30 AM
Thanks very much for all your time to report the issue. Flash Player team is looking into it. Thanks.

I've emailed Shu Wang at Adobe to see if he can give a time estimate on fixing this.</pre>
    </div>
  <div id="c105" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c105">Comment 105</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:20:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Shu Wang at Adobe told me that the Flash Player team is actively investigating the issue. They have no time estimate to share yet. I'll update this BZ as I get updated information.</pre>
    </div>
  
  <div id="c107" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c107">Comment 107</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:25:34 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Here's the bomb:
Adobe says it may take months for them to fix this.</pre>
    </div>
  <div id="c108" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c108">Comment 108</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">devzero2000</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:32:22 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >What is strange for a proprietary product ? :=) It is the norm.</pre>
    </div>
  <div id="c109" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c109">Comment 109</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:39:18 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I request this bug to be re-opened.

Seriously degraded flash, for months, in Fedora seems much to much for at least me. This may cause more than a few users to change to other Linux distributions.

Andreas Schwab, can you roll back this change or make it work with Adobe Flash by some other means?</pre>
    </div>
  <div id="c110" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c110">Comment 110</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Andrei ILIE</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:48:46 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Why not use f13 until Adobe releses an updated flash ?</pre>
    </div>
  <div id="c111" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c111">Comment 111</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Andrei ILIE</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 04:49:55 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c110">comment #110</a>)
<span class="quote">&gt; Why not use f13 until Adobe releses an updated flash ?</span >

...or downgrade glibc</pre>
    </div>
  <div id="c112" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c112">Comment 112</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 05:54:08 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >There is now a FESCo ticket about this issue at <a href="https://fedorahosted.org/fesco/ticket/501">https://fedorahosted.org/fesco/ticket/501</a></pre>
    </div>
  <div id="c113" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c113">Comment 113</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Uģis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 05:59:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c111">comment #111</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c110">comment #110</a>)
&gt; &gt; Why not use f13 until Adobe releses an updated flash ?
&gt; 
&gt; ...or downgrade glibc</span >

Or use Ray Strode's script to patch libflashplayer.so ...</pre>
    </div>
  <div id="c114" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c114">Comment 114</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Oliver Henshaw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 07:13:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c107">comment #107</a>)
<span class="quote">&gt; Here's the bomb:
&gt; Adobe says it may take months for them to fix this.</span >

Could you give a link to this statement? I couldn't see it in the adobe bug, and don't know where else to look.</pre>
    </div>
  <div id="c115" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c115">Comment 115</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 08:11:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c114">comment #114</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c107">comment #107</a>)
&gt; &gt; Here's the bomb:
&gt; &gt; Adobe says it may take months for them to fix this.
&gt; 
&gt; Could you give a link to this statement? I couldn't see it in the adobe bug,
&gt; and don't know where else to look.</span >
There is no link, I e-mailed Shu Wang at Adobe.</pre>
    </div>
  <div id="c116" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c116">Comment 116</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Yann Droneaud</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 08:54:37 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c102">comment #102</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c101">comment #101</a>)
&gt; 
&gt; &gt; Of course, it would be even better if the distro also made it easy for
&gt; &gt; developers to see the bad memcpy's, so that they can fix their apps.
&gt; 
&gt; This is probably already done: using -D_FORTIFY_SOURCE=1 enable use of 
&gt; __builtin___memcpy_chk()</span >

Nope.

When looking at glibc (and gcc), _FORTIFY_SOURCE only enable checks for
overflow, not overlap.</pre>
    </div>
  <div id="c117" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c117">Comment 117</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 09:17:09 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c94">comment #94</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=460254" name="attach_460254" title="replace all memcpy calls with memmove calls in libflashplayer.so">attachment 460254</a> <a href="attachment.cgi?id=460254&amp;action=edit" title="replace all memcpy calls with memmove calls in libflashplayer.so">[details]</a></span>
&gt; replace all memcpy calls with memmove calls in libflashplayer.so
&gt; 
&gt; I wrote this quick and dirty script last night after checking in on this bug
&gt; report and reading the results. It fixes up the flash plugin to use memmove
&gt; instead of memcpy across the board.  Caveats:
&gt; 
&gt; 1) The script takes a long time to run (although I don't really know how long
&gt; since I went off and did other things while it ran)
&gt; 2) There may be practical performance implications in using memmove where
&gt; memcpy is okay not sure. Although, <a href="show_bug.cgi?id=638477#c46">comment 46</a> suggests it may not be that bad
&gt; of a hit.
&gt; 3) It works okay for me in that my audio doesn't clip anymore on the one
&gt; version of libflashplayer.so that I've tried it on, but I haven't done any
&gt; significant testing.</span >
Works excellent for me! The script took 1-2 minutes to run on my laptop.

In short for anyone ending up here, you may try this to bypass the issue:
In a terminal, run:

wget <a href="https://bugzilla.redhat.com/attachment.cgi?id=460254">https://bugzilla.redhat.com/attachment.cgi?id=460254</a> -O ~/Downloads/memcpy-to-memmove.sh
chmod +x ~/Downloads/memcpy-to-memmove.sh
cp /path/to/your/libflashplayer.so /path/to/your/libflashplayer.so.backup
~/Downloads/memcpy-to-memmove.sh /path/to/your/libflashplayer.so</pre>
    </div>
  <div id="c118" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c118">Comment 118</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Magnus Glantz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-17 14:25:04 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Good new, I just got an e-mail from Adobe, saying..

..they have a fix
..the fix has been send to QA/QE

They say that they cannot commit to any dates, but that they are taking the issue seriously.

I told them that if they want volunteers trying out their fix, we can help.</pre>
    </div>
  <div id="c119" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c119">Comment 119</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pavel Roskin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-19 16:50:59 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Since there is no ETA from Adobe, I think we should consider a fix for the time being.  I'm just trying to brainstorm the problem.  Possible solutions could be:

1) Revert the glibc change.  While I don't think that a perfectly good change in glibc should be reverted to placate a proprietary plugin, this is not a perfectly good change.  It's essentially a workaround for a defect in some Intel processors.  It may improve benchmarks, but we can and should ask about real life benefits.  While operations on short arrays may become faster in some very specific cases, copying of large and well-aligned arrays is likely be slowed down by going backwards.

2) Add a wrapper to Firefox to use memmove() instead of memcpy().  Users of other browsers will do it for themselves.

3) I don't know if it's feasible, but maybe nspluginwrapper could be changed to intercept the memcpy() call from the plugins.  Maybe another wrapper could be bundled with nspluginwrapper.

4) Another wrapper could be written for flash plugin.  That wrapper should be part of the flash-plugin package, and it should be very strongly recommended by the fedora Flash page (<a href="http://fedoraproject.org/wiki/Flash">http://fedoraproject.org/wiki/Flash</a>)

5) The flash-plugin package should patch the plugin on install.  rpm verification will fail, but perhaps it's OK.  We could mark the plugin as a &quot;configuration file&quot;.

6) The flash-plugin package should patch the plugin at the build time.  This could have legal consequences, but I don't think Adobe would actually enforce them considering that the change is purely to fix a flaw in their product.</pre>
    </div>
  <div id="c120" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c120">Comment 120</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Oliver Henshaw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-19 17:21:57 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Isn't nspluginwrapper unnecessary now that firefox has Out-of-Process-Plugins (i.e. plugin-container)? I honestly don't know what utility nspluginwrapper has remainiig to it, but suggestion #3 may amount to suggestion #2.

Re: suggestions #4-6 - isn't the flash-plugin package provided by adobe itself?</pre>
    </div>
  <div id="c121" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c121">Comment 121</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pavel Roskin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-19 18:02:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >There is an alternative package by Leigh Scott, mentioned on <a href="http://fedoraproject.org/wiki/Flash">http://fedoraproject.org/wiki/Flash</a>

It already includes a thin wrapper adding support for Athlon64 processors without support for the lahf instruction.  I tried just adding a safe memcpy() implementation to that file, but it didn't work.

I realize that it would be problematic to get ordinary users to use that repository, so integration of the fix with with nspluginwrapper, firefox or glibc would be preferable.</pre>
    </div>
  <div id="c122" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c122">Comment 122</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulius Zaleckas</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-20 11:33:02 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=461740" name="attach_461740" title="binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;">attachment 461740</a> <a href="attachment.cgi?id=461740&amp;action=edit" title="binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;">[details]</a></span>
binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;

use bspatch from bsdiff package to apply this patch.

This patch changes only one byte in libflashplayer.so. I did this manually with hexedit after studying objdump -S output. The idea behind this change is not to replace every memcpy call with memmove one, but to alter dynamic symbol table to point to memmove instead of memcpy.
I hope someone can make a similar script like Ray Strode did, but using this less intrusive method.</pre>
    </div>
  <div id="c123" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c123">Comment 123</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Vinny Valdez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-24 15:39:35 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><a href="show_bug.cgi?id=638477#c38">Comment #38</a> worked for me, thanks Linus!</pre>
    </div>
  <div id="c124" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c124">Comment 124</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Vlado Potisk</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-25 11:01:58 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I tried the binary patch from <a href="show_bug.cgi?id=638477#c122">comment #122</a>, it works too.</pre>
    </div>
  <div id="c125" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c125">Comment 125</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Derrick Ornelas</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-29 18:38:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I also tried the binary patch from <a href="show_bug.cgi?id=638477#c122">comment #122</a>, and it's been working without any problems so far.  Here's the general command for applying the patch:

    bspatch libflashplayer.so libflashplayer.sonew flash_64.bsdiff</pre>
    </div>
  <div id="c126" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c126">Comment 126</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Neil Underwood</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 14:37:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c122">comment #122</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=461740" name="attach_461740" title="binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;">attachment 461740</a> <a href="attachment.cgi?id=461740&amp;action=edit" title="binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;">[details]</a></span>
&gt; binary patch for &quot;flashplayer_square_p2_64bit_linux_092710&quot;
&gt; 
&gt; use bspatch from bsdiff package to apply this patch.
&gt; 
&gt; This patch changes only one byte in libflashplayer.so. I did this manually with
&gt; hexedit after studying objdump -S output. The idea behind this change is not to
&gt; replace every memcpy call with memmove one, but to alter dynamic symbol table
&gt; to point to memmove instead of memcpy.
&gt; I hope someone can make a similar script like Ray Strode did, but using this
&gt; less intrusive method.</span >

This patch does not work for rekonq.  Works fine for me with konqueror, firefox, chromium &amp; google-chrome however.  Rekonq still has the same sound issues.  Anyone know where rekonq looks for plugins?  I've installed the patched version of libflashplayer.so to:

/usr/lib/opera/plugins/libflashplayer.so
/usr/lib64/chromium-browser/plugins/libflashplayer.so
/usr/lib64/flash-plugin/libflashplayer.so
/usr/lib64/mozilla/plugins/libflashplayer.so
/usr/lib64/seamonkey-2.0.10/plugins/libflashplayer.so

And all the corresponding browsers work, except for rekonq.</pre>
    </div>
  <div id="c127" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c127">Comment 127</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Robin Bowes</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 20:14:46 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Well, after enduring crappy flash sound since November 2, I finally stumbled across this bug.

I have implemented the workaround as per <a href="show_bug.cgi?id=638477#c55">comment #55</a> and it is working for me.

I just want to comment that it is *ridiculous* that this issue has been closed as &quot;NOTABUG&quot; - it quite manifestly *is* a bug.

I'm no great fan of flash but it's an essential part of life on the web these days and I had thought that the Fedora project had finally put its days of broken flash support behind it.

The average punter, looking to evaluate Fedora will *not* care one jot *why* sound is broken in flash audio/video - they will just think &quot;Fedora is crap&quot; and move on to something else that isn't broken.

Please, re-open this issue and get a fix implemented for it ASAP.</pre>
    </div>
  <div id="c128" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c128">Comment 128</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Andre Robatino</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 20:38:59 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c127">comment #127</a>)

<span class="quote">&gt; I just want to comment that it is *ridiculous* that this issue has been closed
&gt; as &quot;NOTABUG&quot; - it quite manifestly *is* a bug.</span >

In Adobe's software.

<span class="quote">&gt; I'm no great fan of flash but it's an essential part of life on the web these
&gt; days and I had thought that the Fedora project had finally put its days of
&gt; broken flash support behind it.</span >

Fedora's flash support is fine. Adobe's software is broken.

<span class="quote">&gt; The average punter, looking to evaluate Fedora will *not* care one jot *why*
&gt; sound is broken in flash audio/video - they will just think &quot;Fedora is crap&quot;
&gt; and move on to something else that isn't broken.</span >

That's fine. Fedora Project's main priority is to improve its own software, not necessarily to maximize the number of users (unlike proprietary software, where maximizing the number of paid users is an end in itself). In particular, developers shouldn't waste time creating workarounds for third-party software and as a result causing developers of said software to be even less responsive than they already are, creating the need for more workarounds, ad infinitum.

<span class="quote">&gt; Please, re-open this issue and get a fix implemented for it ASAP.</span >

Anything done in Fedora is a workaround, not a fix. Only Adobe can fix its own software.

In any case, it looks like Adobe may have &quot;fixed&quot; the problem in their usual responsive fashion. The latest update at <a href="http://labs.adobe.com/downloads/flashplayer10.html">http://labs.adobe.com/downloads/flashplayer10.html</a> shows only 32-bit versions. If they have in fact abandoned 64-bit Flash yet again, it means that users have no choice but to use the 32-bit wrapped plugin which is not affected by this bug (in their software).</pre>
    </div>
  <div id="c129" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c129">Comment 129</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 20:50:25 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c128">comment #128</a>)
<span class="quote">&gt; 
&gt; In Adobe's software.
&gt; 
&gt; &gt; I'm no great fan of flash but it's an essential part of life on the web these
&gt; &gt; days and I had thought that the Fedora project had finally put its days of
&gt; &gt; broken flash support behind it.
&gt; 
&gt; Fedora's flash support is fine. Adobe's software is broken.</span >

Quite frankly, I find your attitude to be annoying and downright stupid.

How hard can it be to understand the following simple sentence:

   THE USER DOESN'T CARE.

Pushing the blame around doesn't help anybody. The only thing that helps is Fedora being helpful, not being obstinate.

Also, the fact is, that from a Q&amp;A standpoint, a memcpy() that &quot;just does the right thing&quot; is simply _better_. Quoting standards is just stupid, when there's two simple choices: &quot;it works&quot; or &quot;it doesn't work because bugs happen&quot;.

Standards are paper. I use paper to wipe my butt every day. That's how much that paper is worth.

Reality is what matters. When glibc changed memcpy, it created problems. Saying &quot;not my problem&quot; is irresponsible when it hurts users. 

And pointing fingers at Adobe and blaming them for creating bad software is _doubly_ irresponsible if you are then not willing to set a higher standard for your own project.  And &quot;not my problem&quot; is not a higher standard.

So please just fix it.

The easy and technically nice solution is to just say &quot;we'll alias memcpy to memmove - good software should never notice, and it helps bad software and a known problem&quot;.</pre>
    </div>
  <div id="c130" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c130">Comment 130</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Andre Robatino</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 21:58:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c129">comment #129</a>)

<span class="quote">&gt; Also, the fact is, that from a Q&amp;A standpoint, a memcpy() that &quot;just does the
&gt; right thing&quot; is simply _better_.</span >

Assuming memcpy() (the existing one) is never more efficient than memmove(). If this is in fact known to _always_ be the case today, then I would agree. Otherwise, it's a bad idea. Optimized functions should continue to be available for those who need them, and it's not like Adobe didn't have a few decades of advance notice on how to code these functions properly. Anyone who finds that memmove() is just as fast in a particular case is free to use it.

<span class="quote">&gt; The easy and technically nice solution is to just say &quot;we'll alias memcpy to
&gt; memmove - good software should never notice, and it helps bad software and a
&gt; known problem&quot;.</span >

Good software _will_ notice, if it's using memcpy() deliberately, for better performance, and doesn't want it aliased. It's equally easy for Adobe (or anyone else) to just do a global search and replace in their own code, so as not to slow down everyone else's. But as mentioned above, it appears that they've abandoned their own 64-bit plugin again, so the &quot;known problem&quot; is gone - unless by their next version, they still haven't figured out the difference.</pre>
    </div>
  <div id="c131" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c131">Comment 131</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Cronenworth</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 22:32:40 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Andre, no one has abandoned anything. The Adobe website was just poorly updated. The 64-bit plugin was updated[1]. I am running on a *64-bit* Flash plugin version 10.3.162.29. The memcpy() issue is not fixed though. The date stamp is on 2010-11-16, which is around the time the issue was reported, but obviously too old.

As far as Fedora is concerned, I believe all of us here are free to make Fedora what we want. I don't know of any particular Fedora policy (please name one if I am wrong) that prevents any one of us from applying a workaround (be it glibc, be it nspluginwrapper, etc) that helps users *use* Fedora. Being petty and small and telling users to &quot;get lost&quot; makes me disgusted to be considered a Fedora contributor.

P.S. There's a bit much political BS in this bug, which is closed. It may be best to hold further comments until the results of tomorrow's FESCO meeting are known.

[1] <a href="http://labs.adobe.com/downloads/flashplayer10_square.html">http://labs.adobe.com/downloads/flashplayer10_square.html</a></pre>
    </div>
  <div id="c132" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c132">Comment 132</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-30 23:02:26 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c130">comment #130</a>)
<span class="quote">&gt; 
&gt; Good software _will_ notice, if it's using memcpy() deliberately, for better
&gt; performance, and doesn't want it aliased. </span >

Bullshit. You clearly don't know what you're talking about.

There are exactly two reasons for memmove() existing in the first place:

 (a) memcpy() hasn't necessarily handled overlapping areas, so people had to make up a new function just because you couldn't _rely_ on memcpy working right for that case.

   IOW, it's not an issue of &quot;memcpy shouldn't handle overlapping areas automatically&quot;, but a &quot;you can't rely on it even if it does, so for portability reasons you shouldn't&quot;.

 (b) you can make a _simpler_ memcpy() if you assume there are no overlapping areas (which is obviously the reason why memcpy originally didn't). But the &quot;simpler&quot; is really trivial - the traditional difference between memcpy and memmove is literally that memcpy always copied upwards, and memmove() simply just checks whether the destination address is above the source address and decides to copy backwards if so.


And quite frankly, neither excuse is valid these days for not just aliasing the two to the same thing (and make both do memmove).

There is no performance difference. The &quot;is it overlapping&quot; is about two small and fast instructions (no cache issues etc), depending on just how exact you want to do it (ie again, traditionally it's just that single compare and conditional jump - but you can be more precise if you want to by adding just a few more instructions).

In fact, I can pretty much guarantee that if you have a program that notices the one or two cycles of the overlapping check, then you have a program that actually prefers the _old_ glibc memcpy(), the simpler one that worked fine with the flash player too. The traditional one that always moved things upwards.

Because the whole bug was introduced by the change (did you take a look at glibc sources? I did) that made memcpy() _much_ more complicated, and now it does computed indirect jumps based on size etc. So the new-and-improved one is the one that takes a lot more cycles, exactly because it tries to handle the special cases. But then it doesn't handle the _simple_ special case of &quot;is it overlapping?&quot;.

In short: there is simply no excuse for the current memcpy() behavior. It doesn't match historical behavior, so it breaks existing applications. And there is certainly no &quot;simplicity&quot; argument: if you want a simpler and more maintainable glibc code base, you just say &quot;let's do memcpy and memmove with the same code, and not have those ugly #ifdef's and duplicate compilations&quot;.

And there is no performance argument. None. If the argument is that &quot;memcpy()&quot; should be as simple as possible and have minimal overhead and perform best for the case where a single cycle matters (ie everything cached, nicely aligned arguments etc), then the glibc changes should just be reverted entirely. 

So either re-instate the old traditional behavior (&quot;memcpy is simple&quot;) that at least has some _historical_ reason behind it, and that makes flash work again.

Or alternatively, just make memcpy DTRT automatically. The check for overlap is not going to be noticed. And _not_ checking for overlap obviously was noticed.</pre>
    </div>
  <div id="c133" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c133">Comment 133</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Andre Robatino</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-01 02:12:07 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Assuming your analysis is correct, aliasing memcpy() to memmove() would be preferable, since maintaining the extra code just to save one or two cycles per call isn't worth it IMO. And the bug Summary could be changed to something like &quot;alias memcpy() to memmove()&quot;, since improving the GCC code itself is enough reason to make the change, regardless of whether broken applications are more likely to work. (Just wondering about the affect on application size, though - how different is the size of the memcpy() and memmove() code, and how often are they inlined? I'm guessing this is not a real issue, but it's the only other one I can think of.)</pre>
    </div>
  <div id="c134" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c134">Comment 134</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Kevin Fenzi</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-01 14:19:26 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The latest flash 64bit plugin seems to have fixed this: 

<a href="http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_2_p3_64bit_linux_111710.tar.gz">http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_2_p3_64bit_linux_111710.tar.gz</a>

(At least it fixes it fine here). 

As to reverting this due to technical arguments like <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Strange sound on mp3 flash website"
   href="show_bug.cgi?id=638477#c132">https://bugzilla.redhat.com/show_bug.cgi?id=638477#c132</a> could the glibc maintainers please consider that and reply here? If they wish to close this bug again, thats their right, but one more revisit and reply to the technical arguments would be welcome. 

Thanks.</pre>
    </div>
  <div id="c135" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c135">Comment 135</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-01 14:33:41 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c134">comment #134</a>)
<span class="quote">&gt; The latest flash 64bit plugin seems to have fixed this: 
&gt; 
&gt; <a href="http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_2_p3_64bit_linux_111710.tar.gz">http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_2_p3_64bit_linux_111710.tar.gz</a>
&gt; 
&gt; (At least it fixes it fine here).</span >

It is still broken for me. Maybe some of your workarounds are still in place.</pre>
    </div>
  <div id="c136" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c136">Comment 136</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Kevin Fenzi</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-01 14:46:02 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Sigh. My bad. It's still broken in that version too. 

I tested a handfull of random youtube videos, but they were all ones that didn't have the bitrate that shows this. ;( 

So, yes, it's still broken. Use the workarounds or 32bit official plugin with nspluginwrapper. 
Sorry for the false alarm.</pre>
    </div>
  <div id="c137" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c137">Comment 137</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Christopher Stone</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-03 22:32:58 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >OH MY GOD!  I just tried Ray Strode's patch and not only does not fix the sound bug, but it makes flash WAY MORE STABLE!  I used to get flash crashing on me all the time whenever I played several videos at once, and now I'm noticing that I no longer see any crashes at all!  Incredible!</pre>
    </div>
  <div id="c138" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c138">Comment 138</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Christopher Stone</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-03 22:33:56 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >oopse that should have read &quot;not only does fix the sound bug&quot; :o</pre>
    </div>
  <div id="c139" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c139">Comment 139</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Geoff King</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-04 12:58:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I just encountered this bug while previewing mp3s on the Amazon mp3 download website and was able to workaround by using #38/#55.  However, I'd like to note that this is type of bug is is especially frustrating since after reading the comments above it smells too political and idealistic.  

Please be reminded that according to the Fedora front page <a href="http://fedoraproject.org/en/">http://fedoraproject.org/en/</a>, it is supposed to be stable and for everyday use.  This update clearly broke some of that stability whatever the cause.  There are many people (my mom and many co-workers) that would not have any clue as to how to fix this even with the workaround posted here.  

I would recommend that a notice be put on the fedora website or help page <a href="http://fedoraproject.org/en/get-help">http://fedoraproject.org/en/get-help</a> that references this bug or provides information as it apparently affects quite a few websites and both google-chrome and firefox.

Regards, Geoff</pre>
    </div>
  <div id="c140" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c140">Comment 140</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dan O'Brien</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-04 13:19:01 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Good comments, GS, but from the above discussion, it is apparent that Fedora is not meant for &quot;users&quot; but for &quot;contributers&quot;.  Your mom and coworkers would be better off with Ubuntu. If Fedora keeps going in the direction it is,  Ubuntu might end up with a few more followers and Fedora with a few less.  I want a Linux system that works.  I've put up with Fedora's &quot;purity&quot; policies from the beginning, but this one might be the last straw up with which this camel will not put.</pre>
    </div>
  <div id="c141" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c141">Comment 141</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">john getsoian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-05 00:23:41 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c137">comment #137</a>)
<span class="quote">&gt; OH MY GOD!  I just tried Ray Strode's patch and not only does not fix the sound
&gt; bug, but it makes flash WAY MORE STABLE!  I used to get flash crashing on me
&gt; all the time whenever I played several videos at once, and now I'm noticing
&gt; that I no longer see any crashes at all!  Incredible!</span >

Indeed. I updates from Linus' patched memcpy preload to Ray Strode's patch and all the the little hesitations and timing stumbles I'd always gotten on some sites disappeared.</pre>
    </div>
  <div id="c142" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c142">Comment 142</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pablo Rodríguez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-06 15:53:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'm an average user that experiences distorted sound at full-screen videos from YouTube (such as <a href="http://www.youtube.com/user/jamesbluntmusic#p/u/0/x1yOGhnmYfI">http://www.youtube.com/user/jamesbluntmusic#p/u/0/x1yOGhnmYfI</a>) or from Colbert Nation (<a href="http://www.colbertnation.com/the-colbert-report-videos/367133/">http://www.colbertnation.com/the-colbert-report-videos/367133/</a>).

Since my processor is 32 bits and not 64 bits, I wonder whether it is the same bug as mine.

I have tried to compile the code from <a href="show_bug.cgi?id=638477#c55">comment 55</a>, but I'm afraid I get the following error:

  $ gcc -O2 -c linusmemcpy.c
  linusmemcpy.c: Assembler messages:
  linusmemcpy.c:6: Error: number of operands mismatch for `movs'

This is all Greek to me. Any idea on how to fix this?

Many thanks for your help,


Pablo</pre>
    </div>
  <div id="c143" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c143">Comment 143</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Benny</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-06 17:34:40 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=465094" name="attach_465094" title="The patched flashplayer plugin 10_2_p3_64bit 111710">attachment 465094</a> <a href="attachment.cgi?id=465094&amp;action=edit" title="The patched flashplayer plugin 10_2_p3_64bit 111710">[details]</a></span>
The patched flashplayer plugin 10_2_p3_64bit 111710

Just install this plugin instead of the adobe one and everything should work. I fixed the adobe one it with Ray Strode's script.</pre>
    </div>
  <div id="c144" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c144">Comment 144</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jesse Keating</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-06 17:42:14 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c143">comment #143</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=465094" name="attach_465094" title="The patched flashplayer plugin 10_2_p3_64bit 111710">attachment 465094</a> <a href="attachment.cgi?id=465094&amp;action=edit" title="The patched flashplayer plugin 10_2_p3_64bit 111710">[details]</a></span>
&gt; The patched flashplayer plugin 10_2_p3_64bit 111710
&gt; 
&gt; Just install this plugin instead of the adobe one and everything should work. I
&gt; fixed the adobe one it with Ray Strode's script.</span >

This is likely something we should not be distributing.</pre>
    </div>
  <div id="c145" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c145">Comment 145</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">sverrel
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-06 19:07:49 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Please do - trying to get to the attached pre patched flashplayer #143 - give me permission denied :(</pre>
    </div>
  <div id="c146" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c146">Comment 146</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-06 19:43:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c145">comment #145</a>)
<span class="quote">&gt; Please do - trying to get to the attached pre patched flashplayer #143 - give
&gt; me permission denied :(</span >

Posting a patched version of flash player breaks the license <a href="http://labs.adobe.com/technologies/eula/flashplayer10.html">http://labs.adobe.com/technologies/eula/flashplayer10.html</a> (in two places I think) which will be why access to that file has been removed.</pre>
    </div>
  <div id="c147" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c147">Comment 147</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Benny</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-07 04:28:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >My deepest apologies for breaking the license. It wont happen again... I was just trying to help some people who got mixed up in all the amount of comments here... 

For users who still have problems: 
I &quot;incidentally found&quot; the file here: <a href="http://rapidshare.com/files/435418850/flashplayer10_2_p3_64bit_linux_111710.tar.gz">http://rapidshare.com/files/435418850/flashplayer10_2_p3_64bit_linux_111710.tar.gz</a></pre>
    </div>
  <div id="c148" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c148">Comment 148</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">sverrel
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-07 11:25:27 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Great find Benny ! Worked like a sharm :) Thank !!</pre>
    </div>
  <div id="c149" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c149">Comment 149</a>
        </span>

        <span class="bz_comment_user"><span class="vcard ">e_redhat
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 10:41:13 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I've been using RedHat since RedHat used to release a binary desktop, before they created the Fedora Project.  I've used Fedora and Centos for non-profit uses since, including for OpenStandards.net and personal use.  

When I installed the 64-bit Fedora, and had to go through a pain to install 64-bit Flash, I used to, but unhappy with, the process for installing such a critical component.  

When recently installing Ubuntu on a friend's Netbook to &quot;correct&quot; her Windows virus problem, I couldn't believe how easy it was to install Flash.  It was a check box on the normal install process!  I found out non-technical friends were installing Ubuntu and very happy with it.  This was obviously because Ubuntu make it possible for a non-technical person to install Flash.  We all know that if you replace Windows with Ubuntu for a friend, and do not install Flash, they will call you pretty quickly asking why they can't view things on the web.  

I've noticed the sound problem with Fedora, narrowing it down to just the web browsers, both Firefox and Chrome.  Adding the lack of a Boxee build for Fedora, and I've been telling all non-technical friends to install Ubuntu.  I've described Fedora as an unstable experimental version designed only for technical people.  (To be sure, previous incidents with the nVidia driver leading me to have to re-install Fedora after a kernel update caused the loss of video, and paranoia that this can happen again, fed into this conclusion.)

Then, I found and read this thread.  I used Ray's patch to correct my sound problem.  Thanks, Ray!  

I concur 100% with Linus on this one.  The changes to glibc need to be rolled back in an update to Fedora 14 until Adobe corrects their Flash binary!  If you don't do this, there will be a lot more people like me, who, seeing only the surface, will tell everyone to install Ubuntu.  This needs to be done immediately!  People have over 4 GB of ram in new computers, and they need the 64-bit version to use it.  

I'm glad to see there are people like Linus that would like to see Fedora become a mainstream desktop, and not just an experimental distribution for technical people.  I hope those in control will learn from this and not only roll back the glibc change ASAP, but also look into streamlining the Flash install like Ubuntu did so non-technical people can have it when they install Fedora with default settings.</pre>
    </div>
  <div id="c150" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c150">Comment 150</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Vlado Potisk</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 12:12:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'd like to point out that malloc() has its MALLOC_CHECK_ environment variable which activates less efficient implementation designed to be tolerant 
against simple errors.

Memcpy() bugs happen just like malloc() bugs do. So why not a MEMCPY_CHECK_ ?</pre>
    </div>
  <div id="c151" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c151">Comment 151</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Benny</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 14:54:12 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c149">comment #149</a>)

Hear hear.</pre>
    </div>
  <div id="c152" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c152">Comment 152</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Homme Bitter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 16:21:57 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >One more supporter for Linus' plea. End users don't care what the cause is, they want it fixed. Sure, Adobe is making themselves look bad by taking way too long to patch this. Even an intermediate fix, just for this problem, can be pushed through bureaucratic mazes in just a few days. However, this is not taking the responsibility away from Fedora to make things &quot;just work&quot;.

I, being someone that is heavily into performance tuning, think that winning cycles, no matter how little, in often used functions is a good thing(tm). Therefor, I agree that improving glibc by doing these optimizations should be done.

Several workarounds have been mentioned to either mitigate the problem in glibc, or to provide a workaround somewhere else in Fedora. Neither has been done, in over a month and over 100 comments on this bug. Given the amount of updates I receive daily for FC14, I think this is an issue that should have been dealt with long ago. No way is it possible that nobody with write access to the relevant packages hasn't had any time to deal with this yet.

I would like to urge anyone with any political power withing Fedora to get this problem dealt with immediately. An organization this big and mature shouldn't be having trouble dealing with this sort of thing, fix it, make certain it won't happen again and move on.</pre>
    </div>
  <div id="c153" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c153">Comment 153</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bill Davidsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 16:30:37 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c149">comment #149</a>)

<span class="quote">&gt; I concur 100% with Linus on this one.  The changes to glibc need to be rolled
&gt; back in an update to Fedora 14 until Adobe corrects their Flash binary!  If you
&gt; don't do this, there will be a lot more people like me, who, seeing only the
&gt; surface, will tell everyone to install Ubuntu.  This needs to be done
&gt; immediately!  People have over 4 GB of ram in new computers, and they need the
&gt; 64-bit version to use it.  </span >

This is a fine urban myth, but only that. The 32 bit &quot;PAE&quot; kernel can address 36 bits of memory space, or 64GB of physical RAM. The only real benefit would be to people who have a single user process limited by 4GB of RAM, and that's a very small number. If you compile your own apps for 64 bit, with the right options and use the right algorithms, you might see about a 5% speedup due to more registers. I have never seen that in any RPM distributed Fedora software, and I would love 5% faster ffmpeg.

I humbly advise that given my lack of drama with 24GB RAM and PAE, and lack of issues running better supported 32 bit apps, that people stay with 32 bit PAE unless they have a specific reason to go 64. I know it's not the &quot;next big thing&quot; but it works and uses all your memory.</pre>
    </div>
  <div id="c154" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c154">Comment 154</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Kevin Fenzi</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-08 16:41:16 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Pretty please with sugar on top, could people please refrain from adding comments here that are not technical in nature? I have asked the maintainers to revisit this based on the technical arguments. 

I would suggest to those that need flash working now that you use the 32bit flash plugin with nspluginwrapper. See: <a href="http://fedoraproject.org/wiki/Flash">http://fedoraproject.org/wiki/Flash</a> for information on installing it. As this is in fact the only released and security updated flash plugin adobe ships (the 64bit one is a beta and doesn't promise security releases). 

Adding non technical comments just makes it less likely that maintainers will be able to filter out those and revisit this. Thanks.</pre>
    </div>
  <div id="c155" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c155">Comment 155</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">hdfssk</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-14 01:01:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Would someone who's allowed please add the CommonBugs keyword to this bug? It'll save a lot of folks search time once it's listed on the <a href="http://fedoraproject.org/wiki/Bugs/Common">http://fedoraproject.org/wiki/Bugs/Common</a> page.</pre>
    </div>
  <div id="c156" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c156">Comment 156</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-14 03:59:04 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >anyone can add keywords, I think.</pre>
    </div>
  <div id="c157" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c157">Comment 157</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alan Lehman</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-23 21:51:12 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >In replay to <a href="show_bug.cgi?id=638477#c147">comment #147</a>, this seemed to correct the problem for Youtube/240P, but not for some others, such as:
<a href="http://bestofthebaytv.com/view/1275/Salesjobscom">http://bestofthebaytv.com/view/1275/Salesjobscom</a>

Fedora 14, 64 bit</pre>
    </div>
  <div id="c158" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c158">Comment 158</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">john getsoian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-24 11:29:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >RE: <a href="show_bug.cgi?id=638477#c157">comment 157</a>

The site referenced plays OK here (Firefox 3.6.13) using Ray Strode's patch (<a href="show_bug.cgi?id=638477#c94">comment 94</a>)</pre>
    </div>
  <div id="c159" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c159">Comment 159</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Jacek Stępniewski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-24 18:49:58 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Just wanted to say, that there's the same problem with Rhythmbox. When I wanted to play BBC Radio 4 podcasts, I got similar distorted sound.
Using mymemcpy from <a href="show_bug.cgi?id=638477#c38">comment #38</a> also helps.

Jacek</pre>
    </div>
  <div id="c160" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c160">Comment 160</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sergio Monteiro Basto</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-24 20:08:10 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><a href="show_bug.cgi?id=638477#c94">Comment 94</a> also fix sound problem for me</pre>
    </div>
  <div id="c161" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c161">Comment 161</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alan Lehman</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-24 22:35:23 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >That seemed to work for me as well.</pre>
    </div>
  <div id="c162" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c162">Comment 162</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-25 15:52:19 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >MPD (Music Player Daemon - <a href="http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki">http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki</a>) can be set to output an http stream, which is processed by the totem plugin in firefox.

MPD is also being affected by this bug, and it has nothing to do with the flash-plugin. The fix on <a href="show_bug.cgi?id=638477#c38">comment #38</a> (Linus Torvalds) works just fine in this case, though. 

I also have an .src.rpm that applies the fix on <a href="show_bug.cgi?id=638477#c94">comment #94</a> (Ray Strode) during
the build, that is, it brings an unmodified flash-plugin an applies
the script when the rpm is created for 64 bits:

<a href="http://orion.lcg.ufrj.br/RPMS/src/flash-plugin-10.3-1.fc14.src.rpm">http://orion.lcg.ufrj.br/RPMS/src/flash-plugin-10.3-1.fc14.src.rpm</a>

    File: libflashplayer.so
    Version: 
    Shockwave Flash 10.3 d162</pre>
    </div>
  <div id="c163" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c163">Comment 163</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-28 05:01:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >The real problem is gstreamer.

Just try to play an avi (e.g., with divx codec) using gst123 or totem,
and the sound will be completely distorted.

The fix on <a href="show_bug.cgi?id=638477#c38">comment #38</a> also solves the problem.</pre>
    </div>
  <div id="c164" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c164">Comment 164</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-29 05:35:13 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >
I tracked down the problem using valgrind,
and the culprit was a libgstflump3dec.so
in my ~/.gstreamer-0.10/plugins/

This plugin was dated from 2007. After deleting it,
gstreamer is working just fine.

However, this plugin has never caused any trouble before, though.</pre>
    </div>
  <div id="c165" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c165">Comment 165</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dan O'Brien</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-29 06:28:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >#164, nice work. You found another &quot;proprietary&quot; binary that used the *bad* memcpy for overlapping memory.</pre>
    </div>
  <div id="c166" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c166">Comment 166</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Patrick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-29 07:55:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >#164: nice find. did you report this to Fluendo?</pre>
    </div>
  <div id="c167" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c167">Comment 167</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-31 04:37:28 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Another person has already emailed Fluendo directly.


I also have Linux Torvalds' solution here:

<a href="http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm">http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm</a>

It installs a fixed memcpy in /opt/memcpy and provides a script in /usr/bin
that preloads it to a given program:

memcpy-preload.sh   prog_name   prog_arguments

for instance:

memcpy-preload.sh google-chrome

Booth solutions are equivalent in terms of fixing the 64 bit flash-plugin, but this one can be applied to other programs as well.</pre>
    </div>
  <div id="c168" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c168">Comment 168</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pablo Rodríguez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-31 07:09:34 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c167">comment #167</a>)
<span class="quote">&gt; I also have Linux Torvalds' solution here:
&gt; 
&gt; <a href="http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm">http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm</a></span >

I'm extremely interested in your fix.

As I already reported (<a href="show_bug.cgi?id=638477#c142">comment 142</a>), I experience a similar problem in Flash when played at full screen (Fedora 13 played the videos fine, but Fedora 14 distorts their audio)

I'm on 32bit and I cannot compile it due to the following error:

+ ./make-mymemcpy.sh
mymemcpy.c: Assembler messages:
mymemcpy.c:6: Error: number of operands mismatch for `movs'
mymemcpy.o: could not read symbols: File in wrong format

Is there any way I can compile it under 32bits?

Thanks for your help and happy New Year to everybody,


Pablo</pre>
    </div>
  <div id="c169" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c169">Comment 169</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">John Robinson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-31 10:29:45 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c168">comment #168</a>)
[...]
<span class="quote">&gt; I'm on 32bit and I cannot compile it</span >

Pablo, Ray Strode's script in <a href="show_bug.cgi?id=638477#c94">comment #94</a> should work on 32 bits as well.</pre>
    </div>
  <div id="c170" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c170">Comment 170</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-31 11:09:39 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c168">comment #168</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c167">comment #167</a>)
&gt; &gt; I also have Linux Torvalds' solution here:
&gt; &gt; 
&gt; &gt; <a href="http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm">http://orion.lcg.ufrj.br/RPMS/src/memcpy-1.0-1.fc14.src.rpm</a>
&gt; 
&gt; I'm extremely interested in your fix.
&gt; 
&gt; As I already reported (<a href="show_bug.cgi?id=638477#c142">comment 142</a>), I experience a similar problem in Flash
&gt; when played at full screen (Fedora 13 played the videos fine, but Fedora 14
&gt; distorts their audio)
&gt; 
&gt; I'm on 32bit and I cannot compile it due to the following error:
&gt; 
&gt; + ./make-mymemcpy.sh
&gt; mymemcpy.c: Assembler messages:
&gt; mymemcpy.c:6: Error: number of operands mismatch for `movs'
&gt; mymemcpy.o: could not read symbols: File in wrong format
&gt; 
&gt; Is there any way I can compile it under 32bits?
&gt; 
&gt; Thanks for your help and happy New Year to everybody,</span >

The code is written in assembler, and is intended to 64 bits.
That is why you can not compile it.

I can play both videos fine (#142), but only the James Blunt's video goes to full screen here.

However, I think your issue is different. The memcpy problem in flash 64 bits makes the sound unrecognisable, and it is not a simple stuttering or something like that.

As John said in <a href="show_bug.cgi?id=638477#c161">comment #161</a>, Ray Strode's script replaces all memcpy calls for
memove, and can be applied in 32 bits (although my .src.rpm only applies the script for 64 bits).</pre>
    </div>
  <div id="c171" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c171">Comment 171</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Hamidou Dia</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-03 05:18:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - flash audio distorted"
   href="show_bug.cgi?id=663784">Bug 663784</a> has been marked as a duplicate of this bug. ***</pre>
    </div>
  <div id="c172" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c172">Comment 172</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pablo Rodríguez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-03 15:43:18 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c170">comment #170</a>)
<span class="quote">&gt; The code is written in assembler, and is intended to 64 bits.
&gt; That is why you can not compile it.</span >

Thanks for your replies, Paulo and John.

I had no idea that the code was written in assembler (I'm only a user, not a programmer, so all code is Greek to me).

<span class="quote">&gt; However, I think your issue is different. The memcpy problem in flash 64 bits
&gt; makes the sound unrecognisable, and it is not a simple stuttering or something
&gt; like that.</span >

I know that it is different, but it might have the same cause. I already reported it (<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - distorted sound on Flash websites (when playing in full screen)"
   href="show_bug.cgi?id=661385">bug 661385</a>). But since I had no reply, I wanted to try whether any of these fixes could work.
 
<span class="quote">&gt; As John said in <a href="show_bug.cgi?id=638477#c161">comment #161</a>, Ray Strode's script replaces all memcpy calls for
&gt; memove, and can be applied in 32 bits (although my .src.rpm only applies the
&gt; script for 64 bits).</span >

I have downloaded the script, but invoking &quot;./fix-flash.sh /usr/bin/firefox&quot; gives me the following warning:

./fix-flash.sh /usr/bin/firefox
objdump: /usr/bin/firefox: File format not recognized
objdump: Section '.plt' mentioned in a -j option, but not found in any input file
Can't find memcpy call in /usr/bin/firefox PLT

Sorry, but again it's Greek to me. How should I use the fix?

Thanks for your help,


Pablo</pre>
    </div>
  <div id="c173" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c173">Comment 173</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dale Stimson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-03 16:08:04 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Re <a href="show_bug.cgi?id=638477#c172">Comment 172</a>

You can't patch /usr/bin/firefox because (under Fedora, at least) it is
a bash script that in turn runs the firefox binary, which currently (Fedora 13)
is /usr/lib/firefox-3.6/firefox  .  If you wish, try patching that:

./fix-flash.sh /usr/lib/firefox-3.6/firefox</pre>
    </div>
  <div id="c174" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c174">Comment 174</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pablo Rodríguez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-03 16:19:06 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c173">comment #173</a>)
<span class="quote">&gt; Re <a href="show_bug.cgi?id=638477#c172">Comment 172</a>
&gt; 
&gt; You can't patch /usr/bin/firefox because (under Fedora, at least) it is
&gt; a bash script that in turn runs the firefox binary, which currently (Fedora 13)
&gt; is /usr/lib/firefox-3.6/firefox  .  If you wish, try patching that:</span >

Thanks, Dale.

I'm afraid I get another errorsA:

./fix-flash.sh /usr/lib/firefox-3.6/firefox 
./fix-flash.sh: line 11: [: too many arguments
./fix-flash.sh: line 16: 0x080495a8 - 0x08049338
08049478: value too great for base (error token is &quot;08049478&quot;)

No idea what might be wrong.

Thanks again,

Pablo</pre>
    </div>
  <div id="c175" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c175">Comment 175</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-03 16:39:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >You did not understand. What should be patched is the flash-plugin (libflashplayer.so), and not firefox.

I changed my .src.rpm to patch even the 32 bit version:

rpmbuild --rebuild flash-plugin-10.3-1.fc14.src.rpm

You should see it downloading the source from adobe and patching it.
After doing that, install the created rpm and restart firefox.

You should check using &quot;about:plugins&quot; in firefox address bar, whether it is really using the new version.</pre>
    </div>
  <div id="c176" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c176">Comment 176</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Pablo Rodríguez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-04 10:04:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c175">comment #175</a>)
<span class="quote">&gt; I changed my .src.rpm to patch even the 32 bit version:
&gt; 
&gt; rpmbuild --rebuild flash-plugin-10.3-1.fc14.src.rpm
&gt; 
&gt; You should see it downloading the source from adobe and patching it.
&gt; After doing that, install the created rpm and restart firefox.</span >

Thanks, I rebuilt your source rpm and it downloaded and patched the flash-plugin.

But it didn't work.

Thanks anyway,


Pablo</pre>
    </div>
  <div id="c177" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c177">Comment 177</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alexander Hunt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-17 23:33:55 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Re: <a href="show_bug.cgi?id=638477#c175">comment 175</a>:
This method worked perfectly for me. (F14-x86_64 - Intel MacBook)
 
For other users like myself unfamiliar with rpmbuild (I had to do some googling to figure this part out) install rpmdevtools (inc deps) and chrpath (I could only find 0.13.6.fc12-x86_64, but it worked). 

Thank You to all involved with figuring this one out, and an aside I didn't have to implement Linus' (et.al) patch, although Thank You to all of you as well, that was next...
Br, 
alex</pre>
    </div>
  <div id="c178" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c178">Comment 178</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Aaron Luchko</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-18 03:33:01 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Paulo's rpm didn't build for me because it was complaining about a missing build id. I uploaded an updated version of the rpm with the ld line changed to &quot;ld -G --build-id mymemcpy.o -o mymemcpy.so&quot; and it's working for me.

<a href="http://luchko.ca/~aaron/memcpy-1.1-1.fc14.src.rpm">http://luchko.ca/~aaron/memcpy-1.1-1.fc14.src.rpm</a></pre>
    </div>
  <div id="c179" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c179">Comment 179</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">devzero2000</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-21 08:34:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Just for fun, it's appropriate to say so it seems to me :=), I set up the GNU build system for mymemcpy, so you can do the usual ./configure make make install. Yes, it is overkill but it is &quot;nice&quot; hope. It is here

<a href="https://github.com/yersinia/junkcode/tree/master/linux/mymemcpy">https://github.com/yersinia/junkcode/tree/master/linux/mymemcpy</a>

and here the new (make distcheck) tarball

<a href="https://github.com/yersinia/junkcode/blob/master/linux/mymemcpy/mymemcpy-1.1.tar.gz">https://github.com/yersinia/junkcode/blob/master/linux/mymemcpy/mymemcpy-1.1.tar.gz</a>

Regards</pre>
    </div>
  <div id="c180" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c180">Comment 180</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Convey</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-25 11:44:52 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I have no sound in firefox, but do have sound in other applications. 

I tried to cut and paste the code from #38 to my command prompt (as root) but nothing seemed to run. 

I also tried to copy the code from #94 into a file called ray.sh, made it executable, and issued the command &quot;bash ray.sh&quot; as root, but got the following error:

# bash ray.sh
objdump: 'a.out': No such file
objdump: Section '.plt' mentioned in a -j option, but not found in any input file
Can't find memcpy call in  PLT

Please forgive my ignorance, but can someone please provide detailed steps on how to implement these fixes.

Thanks</pre>
    </div>
  <div id="c181" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c181">Comment 181</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">devzero2000</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-26 08:20:57 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >If you want something more simple download the tarball referenced on #179 and do

tar -zxvf mymemcpy-1.1.tar.gz

cd mymemcpy-1.1

./configure

make 

make install (ad root or use sudo)

e follow the instruction on the README, changing the application after LD_PRELOAD if necessary.

Regards</pre>
    </div>
  <div id="c182" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c182">Comment 182</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Siddhesh Poyarekar</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-26 10:09:45 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >A slightly modified version of Linus' memcpy routine so that it builds for 32 bit as well:

1. Cut and paste this into a prompt:
---Cut below---
cat &gt; $HOME/Downloads/linusmemcpy.c &lt;&lt;EOF
#include &lt;sys/types.h&gt;

void *memcpy(void *dst, const void *src, size_t size)
{
void *orig = dst;
#if __WORDSIZE == 64
asm volatile(&quot;rep ; movsq&quot;
#else
asm volatile(&quot;rep ; movsl&quot;
#endif
:&quot;=D&quot; (dst), &quot;=S&quot; (src)
:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &gt;&gt; 3)
:&quot;memory&quot;);
asm volatile(&quot;rep ; movsb&quot;
:&quot;=D&quot; (dst), &quot;=S&quot; (src)
:&quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &amp; 7)
:&quot;memory&quot;);
return orig;
}
EOF
cd $HOME/Downloads
gcc -O2 -c linusmemcpy.c
ld -G linusmemcpy.o -o linusmemcpy.so
---Stop cutting here---

2. Shutdown any running copies of your webbrowser.

3. Until a Adobe has fixed their Flash player, start your webbrowser as below:

For Firefox users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /usr/bin/firefox &amp;

For Google Chrome users:
LD_PRELOAD=$HOME/Downloads/linusmemcpy.so /opt/google/chrome/google-chrome &amp;</pre>
    </div>
  <div id="c183" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c183">Comment 183</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Siddhesh Poyarekar</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-26 10:11:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - distorted sound on Flash websites (when playing in full screen)"
   href="show_bug.cgi?id=661385">Bug 661385</a> has been marked as a duplicate of this bug. ***</pre>
    </div>
  <div id="c184" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c184">Comment 184</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-26 10:43:57 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c182">comment #182</a>)
<span class="quote">&gt; A slightly modified version of Linus' memcpy routine so that it builds for 32
&gt; bit as well:</span >

It builds for 32-bit but it doesn't work for me for 32-bit. I tried a simple test with ls which truncates filenames and ls -al which segfaults!</pre>
    </div>
  <div id="c185" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c185">Comment 185</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Maciej Żenczykowski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-26 19:16:14 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Here, this one actually has a chance of working, still, totally untested.

---Cut below---
cat &gt; $HOME/Downloads/linusmemcpy.c &lt;&lt;EOF
#include &lt;sys/types.h&gt;

void *memcpy(void *dst, const void *src, size_t size)
{
void *orig = dst;
#if __WORDSIZE == 64
asm volatile(&quot;rep ; movsq&quot; :&quot;=D&quot; (dst), &quot;=S&quot; (src)
: &quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &gt;&gt; 3) : &quot;memory&quot;);
asm volatile(&quot;rep ; movsb&quot; : &quot;=D&quot; (dst), &quot;=S&quot; (src)
: &quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &amp; 7) : &quot;memory&quot;);
#else
asm volatile(&quot;rep ; movsl&quot; :&quot;=D&quot; (dst), &quot;=S&quot; (src)
: &quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &gt;&gt; 2) : &quot;memory&quot;);
asm volatile(&quot;rep ; movsb&quot; : &quot;=D&quot; (dst), &quot;=S&quot; (src)
: &quot;0&quot; (dst), &quot;1&quot; (src), &quot;c&quot; (size &amp; 3) : &quot;memory&quot;);
#endif
return orig;
}
EOF
cd $HOME/Downloads
gcc -O2 -c linusmemcpy.c
ld -G linusmemcpy.o -o linusmemcpy.so
---Stop cutting here---</pre>
    </div>
  <div id="c186" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c186">Comment 186</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Aaron Luchko</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-28 22:42:27 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Just for people who don't want to build the rpm themselves I put up a pre-built version

<a href="http://luchko.ca/~aaron/memcpy-1.1-1.fc14.x86_64.rpm">http://luchko.ca/~aaron/memcpy-1.1-1.fc14.x86_64.rpm</a>

just install and start firefox as

$ memcpy-preload.sh firefox

I've tested this on two machines and it fixes the problem for me.</pre>
    </div>
  <div id="c187" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c187">Comment 187</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alexander Hunt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-29 01:30:29 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >RE: <a href="show_bug.cgi?id=638477#c186">Comment 186</a>.
Thanks Aaron, that was great timing. I just did a fresh install of F14-x86_64, so I've just installed your rpm, and it works perfectly for me too. I just had to use the full path since I'm testing the the beta Firefox. The path for my shortcut is: memcpy-preload.sh /usr/share/mozilla/firefox/firefox
Again Thanks and Best Regards</pre>
    </div>
  <div id="c188" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c188">Comment 188</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Fanis Attard</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-29 01:44:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Thanks a lot Aaron. Three machines included mine....
Now I can listen again to the music of hundreds/thousands of sites .....
I installed the memcpy as you said above.
Then I changed the command in the menu editor for the firefox and instead of : firefox %u , I put your command : memcpy-preload.sh firefox .
So I have the same feeling as previously. There is no need to run firefox in the konsole.
Really, I expected an official Fedora update to fix this major problem, even if Adobe has the responsibility for the bug.
Because the flash plugin is a necessary villain but a really small &quot;tool&quot; compared to the Fedora OS, that is a big &quot;factory&quot; with rich equipment and a lot of &quot;deposits&quot; full of tools. 
It is not permitted for such a factory to raise the hands.......</pre>
    </div>
  <div id="c189" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c189">Comment 189</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Convey</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-29 03:53:06 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >RE: <a href="show_bug.cgi?id=638477#c186">Comment 186</a>

Thanks. I downloaded your rpm and installed it as follows:

yum localinstall --nogpgcheck memcpy-1.1-1.fc14.x86_64.rpm

It wouldn't install without the &quot;--nogpgcheck&quot; flag

RE <a href="show_bug.cgi?id=638477#c186">Comment 186</a> &amp; <a href="show_bug.cgi?id=638477#c187">Comment 187</a>

I copied my firefox shortcut and changed the command to 

memcpy-preload.sh /usr/share/mozilla/firefox/firefox

but it didn't work. So I tried 

memcpy-preload.sh firefox

And it worked! However the sound is kind of quiet even with the speakers turned all the way up. Also, if I exit a youtube video during play, it makes a brief, but very loud hum.</pre>
    </div>
  <div id="c190" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c190">Comment 190</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Fanis Attard</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-09 00:47:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I got the official update of glibc today (Feb 9 2011) and I hoped that the problem with flash plugin might be solved. So I tried the command firefox %u but I was wrong..... The problem remains !!
Thanks again Aaron for your memcpy-preload.sh firefox.
Earth calls Fedora Planet. Is anybody out there ? Over .</pre>
    </div>
  <div id="c191" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c191">Comment 191</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Leslie Satenstein</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-14 22:53:42 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Up to date as of 2011Feb14, and the problem persists.</pre>
    </div>
  <div id="c192" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c192">Comment 192</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Christopher Fabritius</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-16 19:18:28 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I noticed the status is now assigned, but the fix (based on my understanding of the discussion above) appears to be a trivial rollback of a change to glibc.

Do you need additional triage information to fix this issue? 
 
Confirming the issue on a current Fedora 14, flash-plugin-10.3.162.29-1.x86_64</pre>
    </div>
  <div id="c193" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c193">Comment 193</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Simon Lewis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 06:32:11 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Please rollback changes to Glib - this is a servere bug on fedora fc14 x86_64 with intel hardware...

Also, the severity should be marked as &quot;urgent&quot; not medium - this is a real show stopper.</pre>
    </div>
  <div id="c194" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c194">Comment 194</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 13:05:26 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >a glitch with an unsupported (upstream) version of an unsupported (by us) third-party plugin does not qualify for any kind of 'urgent' status by any stretch of the imagination, I'm afraid.

running the 64-bit Flash plugin is just generally a bad idea, because they never keep it up to date with the 32-bit one, so it's always vulnerable to several known serious security issues. And 'known serious security issues in Flash' is really not something you want to be exposing your computer to. Just run the 32-bit version, really, you'll be doing yourself a favour.</pre>
    </div>
  <div id="c195" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c195">Comment 195</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Dan O'Brien</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 15:40:31 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I give up waiting for a fix and will just install the 32 bit wrapped one.  This does not make 64 bit Fedora a standout product.  You can sit in the ivory tower all you want, but you end up looking silly.</pre>
    </div>
  <div id="c196" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c196">Comment 196</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alexander Hunt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 17:47:49 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >From an end-user perspective, and in my humble opinion:
I refuse to install anything that pulls in i686 dependencies to my x86_64 system and for that reason will not install software such as Skype and any of the Google for Linux software, and that includes flash wrappers. If I wanted a mixed up UNIX OS I would just use Snow-Leopard on my MacBook and save myself a ton of work making Linux work as I want my OS to work. 
I understand that having compatibility to the new mini-processors is important to somebody who uses mini-machines, but really, would it be that difficult to make a version of glib for those and another one for the mainstream processors? What I mean is make a note in the release notes of the current version for which mini-processors it is supporting. At the same time, revert the glib changes, re-package it, and make a note in the release notes for which processors it is supporting. Problem solved. If someone makes an error in installation it is easy to revert to the other version.
I have read through every comment in this bug issue several times since it was started and have noticed some interesting things: Redhat Fedora developers defending their product, saying they aren't interested how many users switch to different flavours of linux, blaming a 3rd party vendors product for all the problems, and being somewhat bull-headed about changing what has been done. 
So what happens when some other 3rd party company starts doing what Adobe has done that causes(?) problems with functionality in the OS? There will be another bugzilla report about that one and a long argument about who is to blame, who should fix what and a small group of end-users and end-user developers trying to find a workaround so that the software works as it should. I know for a fact that all software will have bugs; that is a reality of computing. Passing blame and being bull-headed about your position doesn't help anyone, and leaving workarounds up to end-users isn't very professional. 
One last point to Redhat: Yes it is nice of you to provide a free OS to the world and spend lots of money and your paid developers' time working on it, but the fact is, you also get a great number of people testing your cutting edge software for free and reporting back, and working with your employees and other un-paid developers to fix the issues before you port the software over to your paid version, which drastically reduces the amount of support time and time spent fixing glitches for your paying customers which makes you look really good to them, so please don't underestimate the value of Fedora users staying with Fedora as an OS. I have used Redhat products as an OS since there was only one fast way to get it; buy the book with the CD in it (the other option being spending a week on dial-up downloading it), and I don't want to change now or in the future, so please, just a little respect for what you get out of the end-users would be appreciated. Granted, you are a company, but also; all of us are a community with pride in making Fedora the best OS out there. Let us not forget that. BTW, this is not a rant, just my opinion. Thanks for reading.</pre>
    </div>
  <div id="c197" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c197">Comment 197</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 17:59:52 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=480017" name="attach_480017" title="Linus' workaround">attachment 480017</a> <a href="attachment.cgi?id=480017&amp;action=edit" title="Linus' workaround">[details]</a></span>
Linus' workaround

Come on guys, please stop whining. This does not add any real value and only makes *working* workarounds harder to find. I personally use the one Linus posted in <a href="show_bug.cgi?id=638477#c38">comment 38</a> - the cat commands posted in this bug only work if ~/Downloads exists, which is not the case if you have localised XDG folders.
Just grab the file I attached, compile it, and then make a script in your ~/bin that adds it to LD_PRELOAD (I'll attach mine for convenience). Then you can forget that this problem ever existed until Adobe fix their bug.</pre>
    </div>
  <div id="c198" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c198">Comment 198</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Julian Sikorski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 18:02:15 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=480018" name="attach_480018" title="example launcher script">attachment 480018</a> <a href="attachment.cgi?id=480018&amp;action=edit" title="example launcher script">[details]</a></span>
example launcher script</pre>
    </div>
  <div id="c199" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c199">Comment 199</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 18:19:22 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Don't use my workaround: it was a stupid hack to test the bug, and show that &quot;always copy upwards&quot; works better than the crap that is in glibc now.

A much better workaround is likely to just implement memcpy() as memmove() (you can replace the inline asm by that in my preload example if you want to). Once memcpy() isn't small and trivial any more, that's just the right thing to do. 

The fact that the glibc people don't do that, and that this hasn't been elevated despite clearly being a big usability problem (normal users SHOULD NOT HAVE TO google bugzillas and play with LD_PRELOAD to have a working system), is just sad.

Quite frankly, there is no reason for the current memcpy() mess. There is no _technical_ reason for it, and there is certainly no usability reason for it. Why the Fedora people don't just fix it, I don't understand. It's a shame and a disgrace.

The fact that Adobe does something that isn't technically right is no excuse for having a sub-par crap memcpy() implementation.

And how does one raise the priority for a bug in bugzilla, or get it re-assigned to somebody who cares?</pre>
    </div>
  <div id="c200" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c200">Comment 200</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Young</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 18:34:04 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c199">comment #199</a>)
<span class="quote">&gt; And how does one raise the priority for a bug in bugzilla, or get it
&gt; re-assigned to somebody who cares?</span >

You can complain to FESCO <a href="https://fedoraproject.org/wiki/FESCO">https://fedoraproject.org/wiki/FESCO</a> though unfortunately this has been tried already, see <a href="https://fedorahosted.org/fesco/ticket/501">https://fedorahosted.org/fesco/ticket/501</a> .</pre>
    </div>
  <div id="c201" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c201">Comment 201</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:09:39 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >This is a bug reporting system, not a discussion forum.

Linus: this is Fedora Bugzilla, not upstream glibc bugzilla; if this is a significant issue in upstream glibc it'd be best to raise it through the appropriate upstream channels. In talking about this specific report, all I can go on is the practical impact on immediate Fedora issues.</pre>
    </div>
  <div id="c202" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c202">Comment 202</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:10:55 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >upstream glibc bugzilla: <a href="http://sources.redhat.com/bugzilla/">http://sources.redhat.com/bugzilla/</a></pre>
    </div>
  <div id="c203" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c203">Comment 203</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:16:17 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >btw, priority field is by Fedora policy reserved to maintainers for the purpose of organizing bugs however they want. It has no intrinsic meaning; there's no policy requiring a certain response time to high priority bugs or anything like that. It doesn't really make any sense to mandate a project-wide policy for the Priority field since developers are entirely free to ignore it if they wish.

I don't think the glibc maintainers actually use the priority field to organize their bugs, so changing the priority field on this bug would achieve exactly nothing.</pre>
    </div>
  <div id="c204" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c204">Comment 204</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Robin Bowes</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:29:07 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >&lt;sigh&gt; And there's a beautiful example of the disconnect between the Redhat devs and the real world.

Somebody (actually, not just &quot;somebody&quot; but the guy who MADE IT POSSIBLE FOR YOU GUYS TO HAVE A JOB AT ALL) asks the question &quot;And how does one raise the priority for a bug in bugzilla, or get it re-assigned to somebody who cares?&quot; and you respond by talking about a field in a bug reporting system.

C'mon guys, get real. Fix it. Patch it. Whatever. But get your heads out of your arses and do something!

R.</pre>
    </div>
  <div id="c205" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c205">Comment 205</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Convey</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:34:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I believe the following link is the correct place to report a bug in glibc:

<a href="http://cygwin.com/bugzilla/">http://cygwin.com/bugzilla/</a>

However, I'm not knowledgeable enough to properly report this bug there. Could someone please post this bug there and then post here to let us know what the bug number is so we can follow.

Thanks.</pre>
    </div>
  <div id="c206" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c206">Comment 206</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 19:44:37 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >robin: linus asked how you raise the priority for a bug in Fedora bugzilla. The answer is, you don't, for the reasons I explained: given how the Fedora project is set up, there is no single simple mechanism for doing so, as we (intentionally) don't have any authority which can, in the usual course of events, wield a big stick and say This Bug Is High Priority. your not liking the answer does not make it not the answer.

The Fedora project trusts its glibc maintainers to maintain glibc correctly, in general, so they are trusted to prioritize their workload accordingly. should someone have a problem with this they can, as Michael Young pointed out, raise it with FESCo, but that's hardly a regular bug priority assignment system.</pre>
    </div>
  <div id="c207" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c207">Comment 207</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Charlie Brady</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 23:13:24 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><span class="quote">&gt; The Fedora project trusts its glibc maintainers to maintain glibc correctly,</span >

Fools. They can't be trusted - the evidence is before you. You can fix it - for Fedora. The fact that glibc project doesn't is no excuse for you not to.</pre>
    </div>
  <div id="c208" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c208">Comment 208</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Homme Bitter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 01:57:20 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'm pulling the &quot;security card&quot;. 

By allowing the memcpy/memmv thing to happen, you are introducing a lot of potential security hazards. You can say that the hazard is introduced by Adobe in Flash, but in fact there have already been several related bugs found in Fedora's own repository of packages. It's just a symptom of an underlying problem that is much bigger and deeper. You don't want someone to find code that will break a system remotely, or even do a (remote) privilege elevation because he can overwrite parts of memory with bits he likes to be there.

You can't just say &quot;it's up to the package maintainers to fix it&quot;. There's SElinux, random start addresses, non executable stack, all large pieces of code in place, just to mitigate this sort of bug turning nasty. By allowing the code to run unchecked, while there are so many known, possible dangerous examples of bad code around, you are compromising security. These packages have all been put in place just to avoid user space code to be abused. I think that is more than adequate proof that you need to take measures to avoid other persons bugs to cause harm.

I know that at this stage it's academical to say it's a security hazard, but given time, enough typewriters and an adequate supply of monkeys, it will be real. History has proven that much. Even all of the above mentioned frameworks have been broken, and I have no doubt some smart and determined person will find a use for this as well. If this behavior is going to be part of glibc, a check to avoid resulting bugs, and/or mitigation for exploiting this should be in place, just like the above mentioned frameworks do.

I propose reversing the memcpy/memmv change for the time being, as a security measure. After that, make sure that the effects of the bugs in other code depending on it are mitigated or removed, before re-introducing it. Maybe by introducing a warning/error in gcc?</pre>
    </div>
  <div id="c209" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c209">Comment 209</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Benny</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 02:16:38 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Last resort: 
Since the guys at glibc are so stubborn and cannot admit they made a mistake... Cant we repackage the newest glibc without the crappy memcpy()? (At least a (temporary) patch) C'mon guys...</pre>
    </div>
  <div id="c210" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c210">Comment 210</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alexander Hunt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 04:45:36 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I agree with Benny and Homme Bitter's last paragraph (+Thanks for the security angle)
According to: Michael Young, <a href="show_bug.cgi?id=638477#c16">Comment 16</a>: 
The sound is good with F13 glibc (2.12.1-4) on F14. I
have been hunting through glibc versions. The sound was good with
glibc-2.12.90-3 but first started sounding corrupted with glibc-2.12.90-4.

So when it was changed and the problems started we know.
Even if Fedora doesn't want to do it, would it be possible for somebody who knows how to do it take the newest version of glibc, fix it, and post it somewhere that's not on a Fedora server? Or, maybe some group of people should branch it and put it on rpmfusion or something...
As an aside,this was an interesting read: 
<a href="https://fedorahosted.org/fesco/ticket/501">https://fedorahosted.org/fesco/ticket/501</a>
It would be interesting to know why it was last commented as &quot;fixed&quot;.It would probably be more appropriately marked as &quot;won't fix&quot; lol...and there has been no further comment for almost 3 months.</pre>
    </div>
  <div id="c211" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c211">Comment 211</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Paulo Roma Cavalcanti</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 05:33:41 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I agree it is complicated to support a different glibc from the one available upstream. In case of a 3rd party repo providing a parallel glibc, who is supposed to be responsible for updating it in case of new bug fixes? This is an endless work, which nobody will want to be responsible for.

In my opinion, for those not wanting to use the 32 bit version, the best fix is using a flash plugin that replaces memcpys for memmoves. 

This is a no source rpm, which downloads the source from adobe and changes the binary:

<a href="http://people.atrpms.net/~pcavalcanti/srpms/flash-plugin-10.3-1.fc14.nosrc.rpm">http://people.atrpms.net/~pcavalcanti/srpms/flash-plugin-10.3-1.fc14.nosrc.rpm</a>

I am more interested in this issue from a performance point of view than
from its effect on the flash plugin. If the new version is really slower that the previous one, well, then there is no excuse for not reverting the code.</pre>
    </div>
  <div id="c212" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c212">Comment 212</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Alexander Hunt</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 08:04:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Hopefully this will be the last I have to say about this issue, except for &quot;Thank You&quot; to the people who help get the problem fixed. 
First: Adobe is working on a fix for the problem (ref: Markus, <a href="show_bug.cgi?id=638477#c118">comment 118</a>). Perhaps if we ask nicely, Markus would be willing to email his contact at Adobe and ask for an ETA on the new Flash version (I believe the last on that was it was going to QA). Please Markus? :)
Second: the adaptation of Linus' (et al) test-code provided by Aaron (in <a href="show_bug.cgi?id=638477#c186">comment 186</a>), in combination with the rework of flash provided by Paulo (now in <a href="show_bug.cgi?id=638477#c211">comment 211</a>, and a Thank you to you) works on every flash enabled site I have visited (neither of them alone work everywhere for me), and from a strictly end-user point of view, they are both easy to implement. Disclaimer; I do not know the security issues, speed factor, or any other implications of using both workarounds together. My system doesn't seem to have any problems with it, but your mileage may vary.
Third; If Adobe is going to take any length of time, my vote would be for someone or a group of people to rework glibc for the time-being (I would do it myself if I had any clue where to start), and hope that there are no bug-fixes required before Adobe puts out a revised version of flash. 
Paulo is correct that it probably makes no sense to branch glibc (although I have to disagree that nobody would maintain it; if that was the case Linux would not be where it is today. Linus' creation and the way he did it proves people will work on something they believe in. Thank you very much Linus, and I'm not bashing you about that Paulo, just disagreeing). Regardless, anyone can easily switch back to the mainstream version of glibc when Adobe fixes flash and it works properly for them. I realize that this doesn't address some of the other issues brought up about the coding quality, security, speed (ie. processor cycles used for different functions), and the g-streamer plugin with the same problem, etc, but I am not knowledgeable enough about those issues to speak about them.
Thanks for reading; I pass the torch and am now going to get some sleep. :)</pre>
    </div>
  <div id="c213" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c213">Comment 213</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 16:19:14 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Seriously people, this is all about one piece of proprietary software, the 64-bit Flash plugin. A piece of 'preview' software about which Adobe themselves say, &quot;We do not recommended that this release be used on production systems or for any mission-critical work.&quot;

<a href="http://labs.adobe.com/downloads/flashplayer10_square.html">http://labs.adobe.com/downloads/flashplayer10_square.html</a>

This is a textbook case of *exactly* what Fedora does not support. Fedora is a distribution with core values and a mission. Fedora is *not* about getting market share at any cost.

If you don't like it, you're simply using the wrong distribution.

The 32-bit flash plugin works fine. Y'all are lucky we tacitly support the 32-bit Flash plugin as much as we do.

Though admittedly we seem to be failing to communicate this point to new users. Looking at <a href="http://fedoraproject.org/en/about-fedora">http://fedoraproject.org/en/about-fedora</a> and what it links to, is nothing but a lot of fluffy words and abstract concepts, and I can see how no one could possibly understand the concrete practical aspects of it. The closest I can find is at the bottom of <a href="http://fedoraproject.org/wiki/Objectives">http://fedoraproject.org/wiki/Objectives</a>

&quot;The Fedora Project is not interested in having its distribution be a platform for proprietary or patent encumbered components. While we do not purposely make installation of such components more difficult, we also do not allow our schedule or processes to be driven by theirs.&quot;

Which boils down to &quot;Workarounds for proprietary software are included purely at the package maintainer's discretion and are most likely going to be rejected&quot;.</pre>
    </div>
  <div id="c214" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c214">Comment 214</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Homme Bitter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 16:36:46 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >It's NOT about the flash plugin, it's about a change in how a glibc call is handled. This breaks an unknown amount of packages and introduces erratic an possibly insecure behavior for an unknown number of Fedora's own applications. It just happens to hit the common user base the hardest on the 64 bit flash plugin, but the effect on stability and security of the entire distribution is much bigger than just the plugin.</pre>
    </div>
  <div id="c215" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c215">Comment 215</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 16:58:11 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >This is not a change that Fedora made. This is a change that went through all the normal upstream channels that *any* change to glibc goes through. All users of glibc are effected. And yes, this is one of the most fundamental parts of the entire system, copying memory. It effects almost every GNU/Linux user in the entire world.

If it broke things, it would turn up quickly.

If you think this change is untested, you don't understand how open source works.

So far, the only proven breakage is the 64-bit flash plugin.

In short, provide proof, or its just a lot of talk.

(Disclaimer: I am NOT in any way a glibc maintainer)</pre>
    </div>
  <div id="c216" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c216">Comment 216</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Tomas Mraz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-22 17:05:03 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Unfortunately the breakage might be very subtle - even normally unnoticeable in some packages. But even in this case it might be very well exploitable by malicious attacker. Of course you can always dismiss it by saying that the affected packages are buggy in using memcpy incorrectly - sure. But this does not make our (Fedora) users of these packages less prone to the attacks. You cannot simply say that Fedora (non-third party) packages are unaffected because the insecure use of memcpy cannot be surely detected in other way than by a careful code review or runtime checks (with abort).</pre>
    </div>
  <div id="c217" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c217">Comment 217</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jon Masters</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-23 11:58:56 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Similarly, just because something was &quot;tested&quot; in the artificial world of developers running purely Open Source components doesn't mean that users (like me) don't want to run a flash plugin, or other non-Open Source software on their systems. There are plenty of things I do for electronic engineering on weekends for which there is no Open Source alternative, so the answer is not always to assume that proprietary stuff is &quot;just wrong&quot;.

Jon.</pre>
    </div>
  <div id="c218" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c218">Comment 218</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-23 13:20:18 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I never said anything about proprietary stuff being wrong. You're projecting.

You speak as if this change to glibc didn't undergo testing by Intel before they submitted it to glibc. Then go through whatever review and testing the glibc project has. Then go through a full Fedora rawhide/beta/testing cycle. And then a Fedora final release. It has not had any special treatment. It has gone through the same testing any change to glibc gets.

These implications that this change to glibc is in any way untested are just patently absurd.

Lets see the bug reports, or you're just spewing FUD about your own product.

(And one again its being glossed over the fact that the 32-bit flash plugin works fine. This is a problem only in the *explicitly* unsupported by Adobe 64-bit *PREVIEW* flash plugin. No one is stopping anyone from having Flash. If you're truly hung up on a geek fetish for some kind of &quot;64-bit purity&quot;, a great variety of workarounds have already been established. Isn't open source great? :)</pre>
    </div>
  <div id="c219" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c219">Comment 219</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Simon Lewis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 02:40:27 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c218">comment #218</a>)

Lets get back to basic facts here...

glibc is a security hazard and should be fixed without any further delay, for example by implementing memcpy() as memmove()...</pre>
    </div>
  <div id="c220" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c220">Comment 220</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">hdfssk</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 16:45:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >It actually wasn't a flash player problem that led me to this bug; many of my mp3s started playing with heavy bubbling-sounding interference right after I upgraded to F14. It took a decent while for me to find this bug, and was a good deal longer before <a href="show_bug.cgi?id=638477#c164">comment #164</a> (<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Strange sound on mp3 flash website"
   href="show_bug.cgi?id=638477#c164">https://bugzilla.redhat.com/show_bug.cgi?id=638477#c164</a>) described the workaround... but it's *not* just one piece of software that had this problem.

I hear Adam's point in <a href="show_bug.cgi?id=638477#c201">comment #201</a> about this not being a discussion forum - I came here today bcs the latest conversation's blowing up my inbox - but at the same time, *where* should someone discuss this sort of thing? The message I'm taking away from all this is &quot;This isn't a problem; why are you all saying it is? Trust us, we Know about these things. Shush!&quot; Well, it pretty plainly is a problem for some folks; what's served by marginalizing their concerns? ...and what does it say to average Fedora users when the guy who built the Linux kernel can't get *his* concerns heard? It sure doesn't encourage me to participate in the Fedora community, or try to volunteer; it seems like a huge waste of time. I’d like to believe that concerns about security will lead to something being done, but... we’ll see.

As for <a href="show_bug.cgi?id=638477#c213">comment #213</a>'s &quot;If you don't like it, you're simply using the wrong distribution&quot; - that's a crap attitude. This discussion's got to be frustrating for all involved, but let's please try to treat each with decency and respect, yes?</pre>
    </div>
  <div id="c221" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c221">Comment 221</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 17:03:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >you can discuss it on an appropriate mailing list, or forum. we have a lot of them.

Listening to people is not the same as doing exactly what they demand. The Fedora project has long-standing values relating to working upstream and prioritizing software freedom; if you don't share those it really *may* be the case that you're not using the right distribution. There are others which place a higher value on accommodating proprietary software and carrying downstream patches.</pre>
    </div>
  <div id="c222" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c222">Comment 222</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 17:24:53 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c221">comment #221</a>)
<span class="quote">&gt; 
&gt; There are others which place a higher value on accommodating proprietary
&gt; software and carrying downstream patches.</span >

Why the hell do people like you continue to think this is about &quot;proprietary software&quot;?

This is about &quot;helping users&quot;. It has absolutely _nothing_ to do with proprietary or not, and is about the fact that binary compatibility matters.

It's also about doing a good job.

Breaking existing binaries with a shared library update IS A BAD THING. How hard can that be to understand? If you break binary compatibility, you need to update the library major version number.

And there really isn't any valid technical reason for doing a bad job at memcpy. 

What is annoying is how people have turned this &quot;glibc broke existing binaries&quot; into some kind of &quot;free software vs proprietary&quot; crap. That's not the point. I know from personal involvement in git that the whole &quot;oops, we used memcpy where we _should_ have used memmove&quot; is a common bug. Bugs happen. The binary may even have been really well tested, but it was tested with a library that consistently did things some way.

Now glibc does random things. The direction of the copy will seemingly depend on things like random alignment issue, rather than any repeatable thing, so just access patterns etc make it do different things for no good reason.

I repeat: &quot;for no good reason&quot;. There's no REASON for glibc to break things.

So stop the whole &quot;proprietaty software&quot; crap. It's about USERS. And it's about Quality-of-implementation.

In the kernel, we have very strict rules of &quot;we don't break binary compatibility unless we _have_ to&quot;. It doesn't matter if it's a result of a bug in user space or not (&quot;you shouldn't have been doing that&quot;) we revert patches that break things. Sure, occasionally we have major reasons why we can't see it as that kind of absolute rule (security bugs that simply require visible changes, or major re-architecting of some area that makes it impossible to support some old API), but they really need to be major reasons.

Why? Because _users_ are the only thing that makes software useful. Software isn't useful on its own. You cannot say &quot;this is the right thing to do&quot; unless you take users into account. 

And no, &quot;there is a workaround&quot; is not good enough, unless that workaround is then automatic from the distribution. Most users that hit this issue will never ever see this bugzilla. They will just say &quot;Fedora is buggy&quot;.

And they'd be right. 

I'm disappointed. Stop the idiotic parroting of &quot;proprietary app&quot;. Think about what users do, and think about all the random binaries people run.</pre>
    </div>
  <div id="c223" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c223">Comment 223</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 17:37:58 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >again, discussion forum, me, getting sucked into it. let's stop now. I'm just trying to explain the values in play here and why certain things happen that may appear odd. it's not my decision to take, I'm just trying to keep order in the bug report.

I still haven't seen anyone report this to glibc upstream, btw. that still seems like an obvious next step to me. but what needs to happen next on this report is a Fedora glibc maintainer to explain what's going to happen and change the bug status appropriately.</pre>
    </div>
  <div id="c224" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c224">Comment 224</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sergio Monteiro Basto</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 17:43:51 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Hi, 
I'm off, because this discussion will not end until Adode fix the problem, since this is not a bug on glibc, this bug should be close. 
See comments #164 and the solution on #94 

You have a forum in Adobe 
<a href="http://forums.adobe.com/community/labs/flashplayer10/square64bit?view=discussions&amp;start=0">http://forums.adobe.com/community/labs/flashplayer10/square64bit?view=discussions&amp;start=0</a>
and <a href="https://bugs.adobe.com/jira/browse/FP-5739">https://bugs.adobe.com/jira/browse/FP-5739</a> 
which have many bug reports that Adobe doesn't fix and have at least have 2 months.</pre>
    </div>
  <div id="c225" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c225">Comment 225</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Charlie Brady</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-24 20:38:33 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><span class="quote">&gt; I still haven't seen anyone report this to glibc upstream, btw. that still
&gt; seems like an obvious next step to me. </span >

I would think Fedora maintainers would be quite capable of doing that. Fix glibc to help your users. Then explain to glibc maintainers exactly why you did so (e.g. you could quote Linus). Stop passing the buck (and stop blaming Adobe, and glibc), and stop treating users as though they don't matter.</pre>
    </div>
  <div id="c226" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c226">Comment 226</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Simon Lewis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-25 02:28:09 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >
glibc allows other programs to overwrite adjacent memory - this is a security hazard and must be fixed in glibc...</pre>
    </div>
  <div id="c227" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c227">Comment 227</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Patryk Zawadzki</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-25 03:58:48 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Computers in general allow people to overwrite memory, you should all get rid of your computers as they are a security threat. Stop blaming glibc maintainers with the faults of others. Stop blaming Fedora. And, for the love of your chosen deity, stop filling my mail account with junk.

Every reply you post reaches at least 120 people who are not Fedora developers. This is not a popularity contest. This is not democracy. You cannot force the devs to fork glibc and maintain the patches for the rest of their lives. If you want this changed, go file bugs with glibc and convince drepper to either pull that change or make it depend on the target CPU (let people explicitly target machines where the new memcpy does make things faster).</pre>
    </div>
  <div id="c228" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c228">Comment 228</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Rich Mattes</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-02 14:46:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c223">comment #223</a>)
<span class="quote">&gt; I still haven't seen anyone report this to glibc upstream, btw. that still
&gt; seems like an obvious next step to me. but what needs to happen next on this
&gt; report is a Fedora glibc maintainer to explain what's going to happen and
&gt; change the bug status appropriately.</span >

Looks like it's at:
<a href="http://sources.redhat.com/bugzilla/show_bug.cgi?id=12518">http://sources.redhat.com/bugzilla/show_bug.cgi?id=12518</a></pre>
    </div>
  <div id="c229" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c229">Comment 229</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-02 14:58:00 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >guh. our external tracker list sucks giant....lollipops.</pre>
    </div>
  <div id="c230" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c230">Comment 230</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 18:20:32 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Why not name this &quot;regression in glibc causes memory corruption&quot;? That's actually what is happening, and the solution is to either:

 1) Fix glibc so the old behavior is not broken (mapping memcpy to memmove)
 2) Downgrade glibc until it's fixed upstream

The fact that this regression has only been seen on proprietary code is irrelevant, it might be happening all over the place.</pre>
    </div>
  <div id="c231" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c231">Comment 231</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 20:15:48 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >&quot;The fact that this regression has only been seen on proprietary code is
irrelevant, it might be happening all over the place.&quot;

So might the Giant Flying Spaghetti Monster. We don't work on the basis of what might, theoretically, be happening. Provide concrete examples or just stop extending this report to no good reason.

I see actual useful discussion between people who know what the hell they're doing happening in the upstream bug; I'm all in favour of simply following whatever is decided there in the downstream package.</pre>
    </div>
  <div id="c232" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c232">Comment 232</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 20:30:42 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c231">comment #231</a>)
<span class="quote">&gt; So might the Giant Flying Spaghetti Monster. We don't work on the basis of what
&gt; might, theoretically, be happening. Provide concrete examples or just stop
&gt; extending this report to no good reason.
&gt; 
&gt; I see actual useful discussion between people who know what the hell they're
&gt; doing happening in the upstream bug; I'm all in favour of simply following
&gt; whatever is decided there in the downstream package.</span >

See the title of the upstream bug:
&quot;memcpy acts randomly (and differently) with overlapping areas&quot;

_That_ is what is happening, it's not hypothetical, there's 125 people affected by this issue and following it, and upstream has accepted that indeed it's an issue.

How about we turn the papers; _you_ come up with proof that all the memcpy's happening in all the binaries in all packages of Fedora are correct and unaffected by this change, and thus there's no security issue. Can you really do that?</pre>
    </div>
  <div id="c233" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c233">Comment 233</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">John Villalovos</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 22:07:09 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c232">comment #232</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c231">comment #231</a>)
&gt; &gt; So might the Giant Flying Spaghetti Monster. We don't work on the basis of what
&gt; &gt; might, theoretically, be happening. Provide concrete examples or just stop
&gt; &gt; extending this report to no good reason.
&gt; &gt; 
&gt; &gt; I see actual useful discussion between people who know what the hell they're
&gt; &gt; doing happening in the upstream bug; I'm all in favour of simply following
&gt; &gt; whatever is decided there in the downstream package.
&gt; 
&gt; See the title of the upstream bug:
&gt; &quot;memcpy acts randomly (and differently) with overlapping areas&quot;
&gt; 
&gt; _That_ is what is happening, it's not hypothetical, there's 125 people affected
&gt; by this issue and following it, and upstream has accepted that indeed it's an
&gt; issue.
&gt; 
&gt; How about we turn the papers; _you_ come up with proof that all the memcpy's
&gt; happening in all the binaries in all packages of Fedora are correct and
&gt; unaffected by this change, and thus there's no security issue. Can you really
&gt; do that?</span >

To go even more off tangent.  That is the kind of logic used to say there is a god.  Since you can't prove there is a god there must be a god.  And god could be whichever diety you like (Flying Spaghetti Monster, Thor, Isis, etc).  Basically your request is realistically impossible.</pre>
    </div>
  <div id="c234" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c234">Comment 234</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Milan Kerslager</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 23:06:46 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >As written above this glibc regression hits nearly all packages not just Flash.
So the assumption not to fix glibc because Flash is closed source is plain wrong.</pre>
    </div>
  <div id="c235" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c235">Comment 235</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 23:58:06 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Please, please, please stop arguing pointlessly in circles.</pre>
    </div>
  <div id="c236" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c236">Comment 236</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Milan Kerslager</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-04 00:23:42 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Yes. So please do not argue to Flash when the problem is in Glibc and do not stand with the position not to fix Glibc because Flash is closed source (this is The Circle). The Flash is not worth to talk about. The problem is a function in Glibc - no matter that almost everybody making mistakes using similar Glibc calls in wrong context (and they are pointlessly implemented with different broken ways) no matter if this is in closed or open source code or product.</pre>
    </div>
  <div id="c237" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c237">Comment 237</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-04 02:53:11 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >You glibc maintainers have been educated evil! You deny the simultaneous 4-cornered 64-bit Flash Cube! We must not let this flashlessness stand! Your ignorance of the Harmonic Flash is demonic!

64-bit Cubic Flash debunks 32-bit AS WITCHCRAFT!</pre>
    </div>
  <div id="c238" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c238">Comment 238</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-04 11:21:25 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c235">comment #235</a>)
<span class="quote">&gt; Please, please, please stop arguing pointlessly in circles.</span >

From what I can see *you* are the only one doing that... Everybody else has agreed it's a real issue.</pre>
    </div>
  <div id="c239" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c239">Comment 239</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-04 20:17:43 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >stating your argument over and over again is exactly what I mean by 'arguing in circles'.</pre>
    </div>
  <div id="c240" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c240">Comment 240</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Deb Mukherjee</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-07 00:18:27 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I tried both Magnus's (#55) and Ray Strode's (#94) fix. Both of them fix the issue of choppy sound in flash sites. 

I just tested the amazon music preview site in firefox, after the song played nicely, keeping firefox open, I tried to play some music in clementine, mplayer or just gnome music preview. All of them failed to produce any sound. I needed to close firefox to be able to hear music from hard drive. 

Somehow, the fix in firefox is blocking the soundcard access by other applications. 

Any clue?</pre>
    </div>
  <div id="c241" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c241">Comment 241</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Kuznetsov Vyacheslav</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-07 03:44:59 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >&#64;Deb Mukherjee

I met such behaviour of the audio subsystem when I removed all pulseaudio-related packages :) Please, check if you have pulseaudio in your system.

At this moment the following packages are installed in my one:

pulseaudio-0.9.21-7.fc14.x86_64
pulseaudio-libs-0.9.21-7.fc14.x86_64
pulseaudio-libs-0.9.21-7.fc14.i686
pulseaudio-libs-zeroconf-0.9.21-7.fc14.x86_64
pulseaudio-libs-glib2-0.9.21-7.fc14.x86_64
pulseaudio-libs-glib2-0.9.21-7.fc14.i686
pulseaudio-module-gconf-0.9.21-7.fc14.x86_64
pulseaudio-module-x11-0.9.21-7.fc14.x86_64
pulseaudio-module-zeroconf-0.9.21-7.fc14.x86_64
pulseaudio-utils-0.9.21-7.fc14.x86_64
alsa-plugins-pulseaudio-1.0.22-1.fc13.x86_64

Please, note the issue does not caused by the issue from this report. If you are unable to fix the issue, you can to search the solution on the <a href="http://www.fedoraforum.org/">http://www.fedoraforum.org/</a> or create the new thread there. I believe the fedora comunity will help you.

Thank you.</pre>
    </div>
  <div id="c242" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c242">Comment 242</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Deb Mukherjee</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-07 08:35:11 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >&#64; Kuznetsov Vyacheslav

Thanks for your help.

&lt;quote&gt; Please, note the issue does not caused by the issue from this report.&lt;\quote&gt;
I am not sure the two issues are separate. I did not have the sound card blocking thing before trying LD_PRELOAD. I have all pulseaudio modules you have listed- and the problem started after I tried #55 fix.</pre>
    </div>
  <div id="c243" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c243">Comment 243</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Brent R Brian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-13 00:00:30 EST
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Two systems, F14, x86=64, all updates applied.  This system has problem, other does not.

snd_hda_codec_realtek  298572  1 
snd_hda_intel           24479  2 
snd_hda_codec           86743  2 snd_hda_codec_realtek,snd_hda_intel
snd_hwdep                6392  1 snd_hda_codec
snd_seq                 53791  0 
snd_seq_device           6191  1 snd_seq
snd_pcm                 80190  2 snd_hda_intel,snd_hda_codec
snd_timer               19892  2 snd_seq,snd_pcm
snd                     63984  12 snd_hda_codec_realtek,snd_hda_intel,snd_hda_codec,snd_hwdep,snd_seq,snd_seq_device,snd_pcm,snd_timer
soundcore                6576  1 snd
snd_page_alloc           7559  2 snd_hda_intel,snd_pcm</pre>
    </div>
  <div id="c244" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c244">Comment 244</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Tom Horsley</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-26 23:20:35 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=487982" name="attach_487982" title="Program to fix relocation entries in libflashplayer.so">attachment 487982</a> <a href="attachment.cgi?id=487982&amp;action=edit" title="Program to fix relocation entries in libflashplayer.so">[details]</a></span>
Program to fix relocation entries in libflashplayer.so

I got ambitious today for some reason and wrote this silly program that takes
an x86_64 shared lib as an argument and fixes any relocation entries that
point to memcpy so they point to memmove instead. It is much faster than the
script posted earlier in this bugzilla.

Sample results:

readelf -r test.so | fgrep mem
000000bf5968  008f00000007 R_X86_64_JUMP_SLO 0000000000000000 memset + 0
000000bf5ea8  014700000007 R_X86_64_JUMP_SLO 0000000000000000 memchr + 0
000000bf63d8  020400000007 R_X86_64_JUMP_SLO 0000000000000000 memmove + 0
000000bf64e0  020400000007 R_X86_64_JUMP_SLO 0000000000000000 memmove + 0
readelf -r libflashplayer.so | fgrep mem
000000bf5968  008f00000007 R_X86_64_JUMP_SLO 0000000000000000 memset + 0
000000bf5ea8  014700000007 R_X86_64_JUMP_SLO 0000000000000000 memchr + 0
000000bf63d8  020400000007 R_X86_64_JUMP_SLO 0000000000000000 memmove + 0
000000bf64e0  022700000007 R_X86_64_JUMP_SLO 0000000000000000 memcpy + 0

Seems to work for me.</pre>
    </div>
  <div id="c245" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c245">Comment 245</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Rian Hunter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 00:22:12 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >FWIW Conventional wisdom says Linus's intuition to alias memcpy to memmove is favorable. Page 43, Section 2.6 of &quot;The Practice of Programming&quot; by Kernighan and Pike states:

&quot;The ANSI C standard defines two functions: memcpy , which is fast but might overwrite memory if source and destination overlap; and memove, which might be slower but will always be correct. The burden of choosing correctness over speed should not be placed upon the programmer; there should be only one function.&quot;

Torvalds, Kernighan, Pike: 1
glibc developers: 0</pre>
    </div>
  <div id="c246" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c246">Comment 246</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Lukas Middendorf</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 07:18:17 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Up to now I thought it was a reasonable assumption that memcpy copies forwards (at least for not overlapping memory areas).
I'm currently thinking about the case that you have a memory mapped device file from which you want to copy some data and it has to be forwards. With the new random behavior it will break.

If the assumption was always correct in the past, I don't think it is right to change that now. At least every documentation of memcpy should have a big warning that the direction of the copy is random.</pre>
    </div>
  <div id="c247" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c247">Comment 247</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Ricky Burgin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 12:48:19 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I completely agree with Linus here; whilst I'm far from a typical desktop end-user, I feel that something, particularly concerned with multimedia (i.e. having a break/having fun) should be fixed as a high priority, particularly when the popularity of such a thing makes people decide not to use Fedora because it doesn't work out of the box.

If I didn't happen to work with so many RHEL-based systems and also have a curiosity which devours my time, I wouldn't have investigated so thoroughly and may have just switched to a different distro by now.

Fedora 15, with GNOME 3, is clearly showing a consensus amongst those in the Fedora project that they want to improve the user experience, particularly so for the type of users who don't visit bugtrackers; by not somehow fixing the root cause of this problem or working around it until it is fixed, the Fedora project is going back on itself.</pre>
    </div>
  <div id="c248" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c248">Comment 248</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 16:08:08 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >If you don't want the burden of choosing correctness over speed, don't program in C.

Does anyone read the thread? Flash works fine, its only people insisting on using an unsupported (by Adobe themselves) 64-bit preview version of flash having a problem.</pre>
    </div>
  <div id="c249" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c249">Comment 249</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Ricky Burgin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 16:19:29 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >You mean the same unsupported 64-bit version that performs anywhere near to acceptable (as opposed to other non-Adobe plugins), despite the issue with glibc?

It does nobody any good to hide behind 'unsupported', 'preview', 'less-than-desirable alternative works fine' when it's clear as to how popular and desired this plugin is to have working. It's fine to use them as an excuse for something breaking, but not to ignore the problem.

Nobody wants a crippled web experience on their 64-bit desktop OS.</pre>
    </div>
  <div id="c250" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c250">Comment 250</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 16:39:22 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I never said anything about non-Adobe plugins. You're projecting. Read the thread.

You should be using the 32-bit Adobe Flash plugin, with nspluginwrapper. That is the supported configuration, both by Adobe, and &quot;unofficially&quot; by Fedora. There's a reason nspluginwrapper was developed in the first place.</pre>
    </div>
  <div id="c251" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c251">Comment 251</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">hdfssk</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 18:21:41 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >FWIW my problem that led to this bug was not related to the flash plugin, see <a href="show_bug.cgi?id=638477#c220">Comment #220</a>.

Inre <a href="show_bug.cgi?id=638477#c248">Comment #248</a> &amp; <a href="show_bug.cgi?id=638477#c250">Comment #250</a>: please knock that attitude off, Callum; stuff like &quot;read the thread&quot; and &quot;don't program in C&quot; aren't going to make anything better, though they might lead to another argument (and there've been enough of those already!)</pre>
    </div>
  <div id="c252" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c252">Comment 252</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 19:29:00 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c248">comment #248</a>)
<span class="quote">&gt; If you don't want the burden of choosing correctness over speed, don't program
&gt; in C.</span >

Have you measured the speed difference between memcpy and memmove? No? Then don't assert that one is faster than the other, because they aren't. This has been demonstrated in the thread with numbers.

<span class="quote">&gt; Does anyone read the thread? Flash works fine, its only people insisting on
&gt; using an unsupported (by Adobe themselves) 64-bit preview version of flash
&gt; having a problem.</span >

AFAIK it happens on 32-bit too, it's only a matter of time before the &quot;square&quot; code gets into the &quot;non-preview&quot; version of Flash.

Anyway, this bug is _not_ about Flash, it's about glibc. Anything that uses memcpy can be affected silently. How much code is misbehaving thanks to this change? It's impossible to know.

For more examples of issues, see:
<a href="http://lwn.net/Articles/414496/">http://lwn.net/Articles/414496/</a>

So, not fixing this bug means silently breaking stuff with _zero_ gain.

Now, can we rename this bug to:
&quot;memcpy acts randomly (and differently) with overlapping areas&quot;

Or shall I create a new one and make this one depend on that?</pre>
    </div>
  <div id="c253" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c253">Comment 253</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Callum Lerwick</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 22:08:09 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c252">comment #252</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c248">comment #248</a>)
&gt; &gt; If you don't want the burden of choosing correctness over speed, don't program
&gt; &gt; in C.
&gt; 
&gt; Have you measured the speed difference between memcpy and memmove? No? Then
&gt; don't assert that one is faster than the other, because they aren't. This has
&gt; been demonstrated in the thread with numbers.</span >

Kindly read <a href="show_bug.cgi?id=638477#c99">comment #99</a>.

<span class="quote">&gt; &gt; Does anyone read the thread? Flash works fine, its only people insisting on
&gt; &gt; using an unsupported (by Adobe themselves) 64-bit preview version of flash
&gt; &gt; having a problem.
&gt; 
&gt; AFAIK it happens on 32-bit too,</span >

Read the thread. No one has said any such thing. If you have experienced otherwise, please let us know.

<span class="quote">&gt; it's only a matter of time before the &quot;square&quot;
&gt; code gets into the &quot;non-preview&quot; version of Flash.</span >

A hypothetical statement that makes a lot of assumptions about Adobe's development process. Do you work for Adobe?

They could also have committed a fix into their source tree months ago and its just a matter of time until they release a fixed version of the 64-bit plugin.

I don't work for Adobe and I don't see you with an &#64;adobe.com email so my hypothetical statements are just as good as yours.

<span class="quote">&gt; Anyway, this bug is _not_ about Flash, it's about glibc. Anything that uses
&gt; memcpy can be affected silently. How much code is misbehaving thanks to this
&gt; change? It's impossible to know.</span >

If a tree falls in the woods...

<span class="quote">&gt; For more examples of issues, see:
&gt; <a href="http://lwn.net/Articles/414496/">http://lwn.net/Articles/414496/</a></span >

Just read it, squashfs fixed their code, problem solved. It also links to this:

<a href="http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278">http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278</a>

&quot;This patch includes optimized 64bit memcpy/memmove for Atom, Core 2 and
Core i7.  It improves memcpy by up to 3X on Atom, up to 4X on Core 2 and
up to 1X on Core i7.  It also improves memmove by up to 3X on Atom, up to
4X on Core 2 and up to 2X on Core i7.&quot;

<span class="quote">&gt; So, not fixing this bug means silently breaking stuff with _zero_ gain.</span >

Your &quot;zero gain&quot; premise is contradicted by at least two Intel engineers.

And Linus never said what hardware he was performance testing on, so we don't know that his testing contradicts the Intel engineers statements.

The Intel engineer in <a href="show_bug.cgi?id=638477#c99">comment #99</a> even gave a credible technical explanation as to why it is faster to copy backwards, that makes sense if you know anything about modern processor designs. Presumably Intel understands how their own CPUs work.

You're going to have to give a lot more than just your word as to why we should disbelieve the Intel engineers.</pre>
    </div>
  <div id="c254" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c254">Comment 254</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Linus Torvalds</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 22:19:27 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c253">comment #253</a>)
<span class="quote">&gt; 
&gt; Kindly read <a href="show_bug.cgi?id=638477#c99">comment #99</a>.</span >

Bullshit. Read <a href="show_bug.cgi?id=638477#c132">comment #132</a>. Even if you want to copy backwards, there is absolutely zero reason to not check the overlapping case first, to see that you don't do it wrong. 

Why is that so hard for people to understand?

The _only_ reason to do memcpy() that clobbers overlapping areas is that the code is fast BECAUSE IT IS SIMPLE. So if you were to use &quot;rep movsb&quot; as the memcpy implementation, then you have a good argument why it does the overlapping case wrong - it's so simple as to be brainless.

But once you do what the glibc memcpy does, there is just no excuse any more for it.</pre>
    </div>
  <div id="c255" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c255">Comment 255</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Ricky Burgin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-27 22:28:32 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Precisely, it's a trade-off, not an improvement. The argument for keeping it is as good as saying: &quot;Let's make it do nothing at all - at least it'll be faster!&quot;.</pre>
    </div>
  <div id="c256" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c256">Comment 256</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 05:55:03 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c253">comment #253</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c252">comment #252</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi?id=638477#c248">comment #248</a>)
&gt; &gt; &gt; If you don't want the burden of choosing correctness over speed, don't program
&gt; &gt; &gt; in C.
&gt; &gt; 
&gt; &gt; Have you measured the speed difference between memcpy and memmove? No? Then
&gt; &gt; don't assert that one is faster than the other, because they aren't. This has
&gt; &gt; been demonstrated in the thread with numbers.
&gt; 
&gt; Kindly read <a href="show_bug.cgi?id=638477#c99">comment #99</a>.</span >

Hopefully Linus has answered this one.

<span class="quote">&gt; &gt; &gt; Does anyone read the thread? Flash works fine, its only people insisting on
&gt; &gt; &gt; using an unsupported (by Adobe themselves) 64-bit preview version of flash
&gt; &gt; &gt; having a problem.
&gt; &gt; 
&gt; &gt; AFAIK it happens on 32-bit too,
&gt; 
&gt; Read the thread. No one has said any such thing. If you have experienced
&gt; otherwise, please let us know.</span >

I did read the thread, everybody mentioned 64-bit instead of &quot;the square version&quot;, but Pablo Rodríguez mentioned he experiences the issue in 32-bit too. Anyway, I tried on my 32-bit laptop, and it doesn't seem to run, so I guess that's a different issue.

<span class="quote">&gt; &gt; it's only a matter of time before the &quot;square&quot;
&gt; &gt; code gets into the &quot;non-preview&quot; version of Flash.
&gt; 
&gt; A hypothetical statement that makes a lot of assumptions about Adobe's
&gt; development process. Do you work for Adobe?
&gt; 
&gt; They could also have committed a fix into their source tree months ago and its
&gt; just a matter of time until they release a fixed version of the 64-bit plugin.
&gt; 
&gt; I don't work for Adobe and I don't see you with an &#64;adobe.com email so my
&gt; hypothetical statements are just as good as yours.</span >

The 'square' plug-in is 10.3, and the current one is 10.2. If you don't put code in 10.3 beta that you would use in 10.3 final, what's the point of the beta then? Sure, maybe they fixed that internally, but maybe not.

<span class="quote">&gt; &gt; Anyway, this bug is _not_ about Flash, it's about glibc. Anything that uses
&gt; &gt; memcpy can be affected silently. How much code is misbehaving thanks to this
&gt; &gt; change? It's impossible to know.
&gt; 
&gt; If a tree falls in the woods...
&gt; 
&gt; &gt; For more examples of issues, see:
&gt; &gt; <a href="http://lwn.net/Articles/414496/">http://lwn.net/Articles/414496/</a>
&gt; 
&gt; Just read it, squashfs fixed their code, problem solved.</span >

No, problem not solved. That's _one_ issue. Can you be certain that there are no issues lingering there? How many millions of line of code can be affected by this? Sure, we've found so far a few issues that were obvious, but there could be many more hidden, specially if they are subtle, or tricky to trigger.

<span class="quote">&gt; It also links to this:
&gt; 
&gt; <a href="http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278">http://article.gmane.org/gmane.comp.lib.glibc.alpha/15278</a>
&gt; 
&gt; &quot;This patch includes optimized 64bit memcpy/memmove for Atom, Core 2 and
&gt; Core i7.  It improves memcpy by up to 3X on Atom, up to 4X on Core 2 and
&gt; up to 1X on Core i7.  It also improves memmove by up to 3X on Atom, up to
&gt; 4X on Core 2 and up to 2X on Core i7.&quot;</span >

So? memcpy can be improved, and so can memmove. But they are the same. So again, this potential breakage provides _zero_ gain.

<span class="quote">&gt; &gt; So, not fixing this bug means silently breaking stuff with _zero_ gain.
&gt; 
&gt; Your &quot;zero gain&quot; premise is contradicted by at least two Intel engineers.
&gt; 
&gt; And Linus never said what hardware he was performance testing on, so we don't
&gt; know that his testing contradicts the Intel engineers statements.</span >

You are confused, don't mix two statements. What Intel guys said was that a memcpy _backwards_ is good on certain CPU's, that has _nothing_ to do with memcpy vs memmove.

<span class="quote">&gt; The Intel engineer in <a href="show_bug.cgi?id=638477#c99">comment #99</a> even gave a credible technical explanation as
&gt; to why it is faster to copy backwards, that makes sense if you know anything
&gt; about modern processor designs. Presumably Intel understands how their own CPUs
&gt; work.</span >

Which has nothing to do with the issue at hand.

Anyway, here's the new bug to properly reflect what's causing this: <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED NOTABUG - memcpy acts randomly (and differently) with overlapping areas"
   href="show_bug.cgi?id=691336">bug #691336</a>.</pre>
    </div>
  <div id="c257" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c257">Comment 257</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Siarhei Siamashka</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 11:41:32 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c254">comment #254</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=638477#c253">comment #253</a>)
&gt; &gt; 
&gt; &gt; Kindly read <a href="show_bug.cgi?id=638477#c99">comment #99</a>.
&gt; 
&gt; Bullshit. Read <a href="show_bug.cgi?id=638477#c132">comment #132</a>. Even if you want to copy backwards, there is
&gt; absolutely zero reason to not check the overlapping case first, to see that you
&gt; don't do it wrong.</span >

I love how you use the words 'absolutely' and 'zero reason' :) Ever heard about <a href="http://en.wikipedia.org/wiki/Cargo_cult_programming">http://en.wikipedia.org/wiki/Cargo_cult_programming</a> ?

<span class="quote">&gt; Why is that so hard for people to understand?
&gt; 
&gt; The _only_ reason to do memcpy() that clobbers overlapping areas is that the
&gt; code is fast BECAUSE IT IS SIMPLE. So if you were to use &quot;rep movsb&quot; as the
&gt; memcpy implementation, then you have a good argument why it does the
&gt; overlapping case wrong - it's so simple as to be brainless.
&gt; 
&gt; But once you do what the glibc memcpy does, there is just no excuse any more
&gt; for it.</span >

That's just pure bullshit. Making assumptions about how exactly undefined behavior might manifest itself with various C library implementations is not something that you should rely on when developing software. What is so hard to understand here?

GNU/Linux is not the only OS which tries to be POSIX compatible, glibc is not the only C library and gcc is not the only C compiler. What you and your fanboys are doing here is just an aggressive promotion of a trivial memcpy misuse bug into a new de-facto standard. I would be really upset if &quot;it is safe because glibc is known to work this way&quot; becomes a common practice and a valid excuse for not fixing bugs.

There are many bugs being introduced and fixed in various software daily. What makes this particular trivial bug so special that it even deserves an update for the C language standard? Especially considering that there are multiple tools capable of detecting this overlapping memcpy problem and it is almost nonexistent in practice.

This bug also highlights a major weakness of the Flash plugin. For the various security problems not addressed over long periods of time they might have an excuse, maybe the bugs were not so easy to fix. But based on how this trivial memcpy issue is being handled, looks like Adobe just does not have a sane process for releasing updates and security fixes. This is very disturbing.</pre>
    </div>
  <div id="c258" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c258">Comment 258</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 11:42:22 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Once again: this bug is not the right place to discuss this. Fedora is not where significant changes to glibc behaviour happen. Fedora Bugzilla is not the right place to discuss making them. There is already an upstream bug for this. Fedora will follow the approach that is decided on upstream, when it is decided on upstream. Commenting here is achieving precisely nothing.</pre>
    </div>
  <div id="c259" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c259">Comment 259</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bill Davidsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 15:09:48 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c257">comment #257</a>)

<span class="quote">&gt; There are many bugs being introduced and fixed in various software daily. What
&gt; makes this particular trivial bug so special that it even deserves an update
&gt; for the C language standard? Especially considering that there are multiple
&gt; tools capable of detecting this overlapping memcpy problem and it is almost
&gt; nonexistent in practice.
&gt; </span >
Why are developers fighting this so hard? If upstream introduces new code to the kernel which breaks existing programs, it gets fixed in Fedora. Here old versions of the library work with existing code and not with the update. Why is good to fix kernel bugs and bad to fix library bugs.

I'm sure RHEL will not introduce a change which breaks existing programs, why should Fedora? Put the &quot;standard conforming&quot; library in FC15 and be happy, hopefully it will break GNOME3. But unless the Fedora team intends to rewrite and maintain all of the other Fedora software which is using the wrong move, the place to fix the disfunction is at the library, and not deliberately break programs in the names of pedantic adherence to a standard.

<span class="quote">&gt; This bug also highlights a major weakness of the Flash plugin. For the various
&gt; security problems not addressed over long periods of time they might have an
&gt; excuse, maybe the bugs were not so easy to fix. But based on how this trivial
&gt; memcpy issue is being handled, looks like Adobe just does not have a sane
&gt; process for releasing updates and security fixes. This is very disturbing.</span >

I'm less disturbed by slow support from Adobe than calling a bug a feature by Fedora.</pre>
    </div>
  <div id="c260" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c260">Comment 260</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jakub Jelinek</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 15:38:14 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Perhaps because it is clearly documented?

ISO C99, 7.21.2.1:
&quot;If copying takes place between objects that overlap, the behavior is undefined.&quot;
Ditto ISO C90, 7.11.2.1, Unix 98, POSIX 2003, POSIX 2008.
man 3 memcpy also clearly says
&quot;The memory areas should not overlap.  Use memmove(3) if the memory areas do overlap.&quot;
After all that is the only difference between memcpy and memmove.

glibc certainly doesn't guarantee bug compatibility, backward compatibility is only provided for correctly written programs that don't trigger undefined behavior.  I'm not sure why you are rising RHEL here, the upcoming major version of RHEL will certainly provide the upstream memcpy version.</pre>
    </div>
  <div id="c261" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c261">Comment 261</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-28 20:04:35 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c260">comment #260</a>)
<span class="quote">&gt; Perhaps because it is clearly documented?</span >

So? The purpose of Fedora is not to follow some specification documentation, it is to provide stable, reliable, useful system.

If breaking applications was done in favor of some drastic performance improvements, that might be ok, following API break path that upstream is planning to do.

But there's nothing like that. You are fighting to protect a vacuum. You want to break applications in order to gain _nothing_.

I guess it's more important to make a few developers at RedHat feel good about themselves because they manage to close a bug without moving a finger, and claiming POSIX correctness, than to make the system more reliable.

Congratulations, you have knowingly made the system more unreliable in order to gain nothing.</pre>
    </div>
  <div id="c262" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c262">Comment 262</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Shigorin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-30 07:05:07 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c253">comment #253</a>)
<span class="quote">&gt; Why is that so hard for people to understand?</span >
Maybe because they failed to grok Postel's Law?

In the meanwhile, folks thank you for the master class and point fingers at fedora developers: <a href="http://avva.livejournal.com/2323823.html">http://avva.livejournal.com/2323823.html</a> (in Russian)

2 jj: je svedomi? :( there are too few _correctly_ written programs in the world</pre>
    </div>
  <div id="c263" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c263">Comment 263</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Uno</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-31 04:33:42 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c101">comment #101</a>)
<span class="quote">&gt; I'd personally suggest that glibc just alias memcpy() to memmove().</span >

I think You aren't right :)

You suggest to provide *one* of many undocumented behaviours. What do You think do with other undocumented behaviours?

for example: memcpy can (or could) be used to propagate a pattern:

strcpy(buffer, &quot;abc&quot;);
memcpy(buffer + 3, buffer, 100);

it will (or would) fill buffer by repeating &quot;abcabcabc...&quot;

Someone can invent the other undocumented variant. If You try provide all these variants You will have no time to do something in linux kernel.

I think that invalid (adobe's) code must be fixed anyway. memcpy shouldn't be alias to memmove.</pre>
    </div>
  <div id="c264" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c264">Comment 264</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Uno</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-31 04:49:22 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><span class="quote">&gt; I'm no great fan of flash but it's an essential part of life on the web these
&gt; days and I had thought that the Fedora project had finally put its days of
&gt; broken flash support behind it.</span >

to watch Youtube I use gnash. Last version works well.</pre>
    </div>
  <div id="c265" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c265">Comment 265</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Milan Kerslager</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-31 04:56:53 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >A programmer should not use side effects of any function.
A glibc should not provide function with performance hit for whatever reason.
It does not matter in what situation has been regression observed.
Glibc has performance regression. This should be fixed.
This has been observed by (broken) Flash (but this hits not only Flash).
Flash had broken code before that. This has been observed by glibc regression.
So Flash should to be fixed too.
Broken design of a function(s) should not leads to broken implementation.
Etc, etc...</pre>
    </div>
  <div id="c266" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c266">Comment 266</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Knut J BJuland</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-01 01:13:21 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >It is also present in Neverwinter nights.</pre>
    </div>
  <div id="c267" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c267">Comment 267</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Brendan Jones</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-06 10:28:38 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [abrt] jack-audio-connection-kit-1.9.6-6.fc16: __libc_message: Process /usr/bin/jackd was killed by signal 6 (SIGABRT)"
   href="show_bug.cgi?id=680802">Bug 680802</a> has been marked as a duplicate of this bug. ***</pre>
    </div>
  <div id="c268" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c268">Comment 268</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Riku Seppala</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-08 11:20:20 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><a href="http://sources.redhat.com/bugzilla/show_bug.cgi?id=12518">http://sources.redhat.com/bugzilla/show_bug.cgi?id=12518</a> is now marked as FIXED.
So... ?</pre>
    </div>
  <div id="c269" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c269">Comment 269</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Adam Williamson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-08 11:56:04 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >so, that patch should get pulled downstream now.</pre>
    </div>
  <div id="c270" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c270">Comment 270</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-10 21:32:08 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=491126&amp;action=diff" name="attach_491126" title="x86_64: workaround for new memcpy behavior">attachment 491126</a> <a href="attachment.cgi?id=491126&amp;action=edit" title="x86_64: workaround for new memcpy behavior">[details]</a></span>
x86_64: workaround for new memcpy behavior

I have backported the fix to 2.13, and I've launched a koji build:

<a href="http://koji.fedoraproject.org/koji/taskinfo?taskID=2992294">http://koji.fedoraproject.org/koji/taskinfo?taskID=2992294</a>

Enjoy :)</pre>
    </div>
  <div id="c271" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c271">Comment 271</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-10 21:36:12 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=491127&amp;action=diff" name="attach_491127" title="memcpy-ssse3: add overlap checks">attachment 491127</a> <a href="attachment.cgi?id=491127&amp;action=edit" title="memcpy-ssse3: add overlap checks">[details]</a></span>
memcpy-ssse3: add overlap checks

I used Linus' patch as a guide to add overlap checks that would crash improper apps, and tried to boot my Fedora 14 system with it.

I noticed pulseaudio and readahead-collector crash, so they must be doing something wrong.

I say if Fedora cares about the quality of the full system something like this should be done to find all the bad code.</pre>
    </div>
  <div id="c272" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c272">Comment 272</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">JCHuynh</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-10 22:54:07 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >I'm testing testing Fedora 15 ... Problem is fixed now</pre>
    </div>
  <div id="c273" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c273">Comment 273</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Jakub Jelinek</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 02:16:19 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c270">comment #270</a>)
<span class="quote">&gt; Created <span class="bz_obsolete"><a href="attachment.cgi?id=491126&amp;action=diff" name="attach_491126" title="x86_64: workaround for new memcpy behavior">attachment 491126</a> <a href="attachment.cgi?id=491126&amp;action=edit" title="x86_64: workaround for new memcpy behavior">[details]</a></span>
&gt; x86_64: workaround for new memcpy behavior
&gt; 
&gt; I have backported the fix to 2.13, and I've launched a koji build:
&gt; 
&gt; <a href="http://koji.fedoraproject.org/koji/taskinfo?taskID=2992294">http://koji.fedoraproject.org/koji/taskinfo?taskID=2992294</a></span >

This is ABI incompatible library, so please don't spread this out.</pre>
    </div>
  <div id="c274" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c274">Comment 274</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Brent R Brian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 06:22:47 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Will this be made available as an yum update on FC14 ?</pre>
    </div>
  <div id="c275" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c275">Comment 275</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 06:45:33 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=491198&amp;action=diff" name="attach_491198" title="x86_64: fix for new memcpy behavior (try 2)">attachment 491198</a> <a href="attachment.cgi?id=491198&amp;action=edit" title="x86_64: fix for new memcpy behavior (try 2)">[details]</a></span>
x86_64: fix for new memcpy behavior (try 2)

Here's a second try, should achieve the same thing, but ABI compatible.</pre>
    </div>
  <div id="c276" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c276">Comment 276</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 07:35:26 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c275">comment #275</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=491198&amp;action=diff" name="attach_491198" title="x86_64: fix for new memcpy behavior (try 2)">attachment 491198</a> <a href="attachment.cgi?id=491198&amp;action=edit" title="x86_64: fix for new memcpy behavior (try 2)">[details]</a></span>
&gt; x86_64: fix for new memcpy behavior (try 2)
&gt; 
&gt; Here's a second try, should achieve the same thing, but ABI compatible.</span >

Here's the corresponding koji build, now it's ABI compatible.</pre>
    </div>
  <div id="c277" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c277">Comment 277</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 07:36:00 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" ><a href="http://koji.fedoraproject.org/koji/taskinfo?taskID=2992729">http://koji.fedoraproject.org/koji/taskinfo?taskID=2992729</a></pre>
    </div>
  <div id="c278" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c278">Comment 278</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-13 05:24:02 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Thanks to Ulrich Drepper I managed to write a simple check to find memcpy overlaps issues system-wide and I created a tracking but to link my findings so far. It would be useful if other people ran this on their systems as well:

<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Tracking bug for memcpy overlap issues"
   href="show_bug.cgi?id=696096">Bug #696096</a>.</pre>
    </div>
  <div id="c279" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c279">Comment 279</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Simon Lewis</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-13 15:00:49 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Ubuntu is also using the MEMCPY hack - the deb package refers to redhat <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED ERRATA - Strange sound on mp3 flash website"
   href="show_bug.cgi?id=638477">bug #638477</a>

See <a href="http://www.ubuntuupdates.org/packages/show/301005">http://www.ubuntuupdates.org/packages/show/301005</a>

I guess Ubuntu is wating for redhat to fix glibc.......</pre>
    </div>
  <div id="c280" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c280">Comment 280</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Bill McGonigle</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-19 19:25:02 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Adobe didn't fix this in Flash 10.3.  :(  I applied Ray Strode's script to the 10.3 binary and it still appears to work.

2.6.35.13-91.fc14.x86_64
glibc-2.13-1.x86_64</pre>
    </div>
  <div id="c281" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c281">Comment 281</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-22 09:38:35 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c280">comment #280</a>)
<span class="quote">&gt; Adobe didn't fix this in Flash 10.3.  :(  I applied Ray Strode's script to the
&gt; 10.3 binary and it still appears to work.</span >

Flash 10.3 is ambiguous, 10.3.162 is flash &quot;square&quot; preview 3 for 64-bit systems, 10.3.181.14 is 10.3 final, for 32-bit systems.</pre>
    </div>
  <div id="c282" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c282">Comment 282</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael H.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-26 14:44:48 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Thx a bunch for Linus quick patch, saves me from the annoying sound with youtube videos on FC 14...</pre>
    </div>
  <div id="c283" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c283">Comment 283</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Brent R Brian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-06-02 11:51:08 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Patch works for me as well</pre>
    </div>
  <div id="c284" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c284">Comment 284</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Cronenworth</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-11 18:34:39 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Andreas or Jakub, what is the status of this?

I just ran into an overlapping memcpy() in a piece of third-party proprietary software used by my $DAYJOB. It seems this memcpy() change is in RHEL6 as the customers effected are running RHEL6. I can, of course, fix the problem, but other softwares out there may be effected, too. RHEL6 may need to be fixed as other proprietary houses may not be so friendly.</pre>
    </div>
  <div id="c285" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c285">Comment 285</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Michael Cronenworth</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-12 14:27:07 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >glibc-2.14-3 still exhibits the new, backwards behavior for me. (Fedora 15)

Is this expected?</pre>
    </div>
  <div id="c286" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c286">Comment 286</a>
        </span>

        <span class="bz_comment_user"><span class="vcard redhat_user"><span class="fn">Matthew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-12 14:44:50 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >For anything built against new glibc, yes. Old binaries should pick up the old memcpy behaviour.</pre>
    </div>
  <div id="c287" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c287">Comment 287</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Felipe Contreras</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-13 18:43:00 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >FTR the public beta of Flash 11 seems to have the problem fixed.</pre>
    </div>
  <div id="c288" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c288">Comment 288</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Sébastien Major</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-02 12:38:23 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Does the subject can be a concrete one ?
I did not read as carefully as evidently needed but, as entirely user under Linux and after GNU/Linux since 1994, I think we could just get away from this talk and move the debate target.

Super : adobe done the new glibc update.

In my humble opinion, we need all people to raise up Linux and not read comments that disturb the project. If Linus Torvalds said ... We must follow, unless, it's stupid and get us or another in danger ! Completely agree with the facts of he told.

What about have memcpy be exact aliasing to memset and memcpy32, memcpy64, memcpy128, ... be other functions ?

Please, don't bicker yourselves about this one year subject Bug. I think we need you for largely others things.</pre>
    </div>
  <div id="c289" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c289">Comment 289</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Kir Kolyshkin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-16 10:16:18 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Guys,

Thanks for the solution! I was tired of manually adding LD_PRELOAD to firefox/google-chrome start script, so I ended up automating the process using RPM triggers. Now all I (and you) need to do is to install flash-fix RPM and forget about the problem.

Get the stuff from here: <a href="http://kir.sacred.ru/flash-fix/">http://kir.sacred.ru/flash-fix/</a></pre>
    </div>
  <div id="c290" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c290">Comment 290</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Riku Seppala</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-16 10:25:48 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Adobe has updated flash plugin that fix this. Works for me.

<a href="http://labs.adobe.com/downloads/flashplayer11.html">http://labs.adobe.com/downloads/flashplayer11.html</a></pre>
    </div>
  <div id="c291" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c291">Comment 291</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Jeffrey Walton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-17 15:17:51 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=638477#c152">comment #152</a>)
<span class="quote">&gt; ...
&gt; I would like to urge anyone with any political power withing Fedora to get this
&gt; problem dealt with immediately. An organization this big and mature shouldn't
&gt; be having trouble dealing with this sort of thing, fix it, make certain it
&gt; won't happen again and move on.</span >
Unfortunately, Fedora politcos will probably not be able to get Adobe to move any faster or do a better job with their software. Adobe has a chronic, progressive problems (which, not surprisingly, spills over into security related defects).  There's a reason Apple selectively bans Adobe from their platforms.

&quot;Adobe surpasses Microsoft as favorite hacker’s target&quot; [1]
&quot;Adobe predicted as top 2010 hacker target&quot; [2] 
&quot;Adobe products are legendary for their insecurity.&quot; [3]

Adobe security related history: <a href="http://www.google.com/#q=adobe+pointer+site:securityfocus.com">http://www.google.com/#q=adobe+pointer+site:securityfocus.com</a>

[1] <a href="http://lastwatchdog.com/adobe-surpasses-microsoft-favorite-hackers-target/">http://lastwatchdog.com/adobe-surpasses-microsoft-favorite-hackers-target/</a>
[2] <a href="http://www.theregister.co.uk/2009/12/29/security_predictions_2010/">http://www.theregister.co.uk/2009/12/29/security_predictions_2010/</a>
[3] <a href="http://techcrunch.com/2011/08/20/revenge-of-the-killer-script-kiddies/">http://techcrunch.com/2011/08/20/revenge-of-the-killer-script-kiddies/</a></pre>
    </div>
  <div id="c292" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=638477#c292">Comment 292</a>
        </span>

        <span class="bz_comment_user"><span class="vcard "><span class="fn">Vik Tara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-19 05:45:06 EDT
        </span>
      </div>


    
      

<pre class="bz_comment_text" >Garbled audio on Fedora 14 with flash also happens when using:
<a href="http://demo.bigbluebutton.org/">http://demo.bigbluebutton.org/</a>

The workaround in this case has no effect.</pre>
    </div>
  


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=638477&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=638477">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=638477">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=638477">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>        
    </ul>


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>
<li><span class="separator"> | </span><a href="page.cgi?id=browse.html">Browse</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>

  <li>
        <span class="separator">| </span>
        <a href="/docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_bottom">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="https://bugzilla.redhat.com/show_bug.cgi?id=638477&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  
  <form action="https://bugzilla.redhat.com/show_bug.cgi?id=638477" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_bottom"
        onsubmit="return check_mini_login_fields( '_bottom' );"
  >
    <input id="Bugzilla_login_bottom" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_bottom" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_bottom" value="password"
           title="Password"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_bottom">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
<li id="forgot_container_bottom">
  <span class="separator">| </span>
  <a id="forgot_link_bottom" href="https://bugzilla.redhat.com/show_bug.cgi?id=638477&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_bottom')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_bottom"
        class="mini_forgot bz_default_hidden">
    <label for="login_bottom">Login:</label>
    <input type="text" name="loginname" size="20" id="login_bottom">
    <input id="forgot_button_bottom" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
  </form>
</li>
  
  <li><span class="separator">| </span><a href="/enter_bug.cgi?product=Bugzilla&amp;version=4.2">Report Bugzilla Bug</a></li>
  
</ul>
  </li>

  
    

  


  
</ul>

  <div class="outro"><div align="left">
  <ul id="useful-links">
    <li id="links-actions">
      <a href="page.cgi?id=terms-conditions.html" >Legal</a>
    </li>
  </ul>
</div></div>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://engstats.redhat.com/piwik/" : "http://engstats.redhat.com/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 2);
    piwikTracker.setCustomVariable(1, "bz_user", "");
    piwikTracker.setCustomVariable(2, "bz_bug_id", "638477");
    piwikTracker.setCustomVariable(3, "bz_product", "Fedora");
    piwikTracker.setCustomVariable(4, "bz_groups", "");
    piwikTracker.setCustomVariable(5, "bz_ext_trackers", "Sourceware");
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="https://engstats.redhat.com/piwik/piwik.php?idsite=2" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

</body>
</html>